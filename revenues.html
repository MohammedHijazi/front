<!DOCTYPE html>
<!-- saved from url=(0037)https://www.7esba.com/admin-dashboard -->
<html lang="ar" dir="rtl" data-arp-injected="true">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap Core CSS -->
    <!-- <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="./إيرادات ومصروفات_files/bootstrap.min.css">
    <!-- Font Awesome -->
    <!-- <link rel="stylesheet" href="bootstrap/font-awesome/css/font-awesome.min.css" type="text/css"> -->
    <link rel="stylesheet" href="./إيرادات ومصروفات_files/font-awesome.min.css" type="text/css">
    <!-- Font Awesome -->
    <!-- <link rel="stylesheet" href="bootstrap/font-awesome/css/font-awesome-animation.min.css" type="text/css"> -->
    <link rel="stylesheet" href="./إيرادات ومصروفات_files/font-awesome-animation.min.css" type="text/css">
    <!-- jQuery UI -->
    <!-- <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css"> -->
    <link rel="stylesheet" href="./إيرادات ومصروفات_files/jquery-ui.css">
    <!-- Date picker -->
    <!-- <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap-datepicker3.min.css"/> -->
    <link rel="stylesheet" type="text/css" href="./إيرادات ومصروفات_files/bootstrap-datepicker.min.css">
    <!-- swal -->
    <!-- <link rel="stylesheet" href="bootstrap/css/sweetalert2.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.10.3/sweetalert2.min.css"> -->
    <link rel="stylesheet" href="./إيرادات ومصروفات_files/sweetalert2.min.css">
    <link rel="apple-touch-icon" href="https://www.7esba.com/bootstrap/img/7esba-logo-192x192-128.png">
    <!-- Custom CSS -->

    <link rel="stylesheet" href="./إيرادات ومصروفات_files/7esbastyle.css">
    <meta name="apple-mobile-web-app-status-bar" content="#4d4d4d">
    <meta name="theme-color" content="#fff">
    <script async="" src="./إيرادات ومصروفات_files/analytics.js.download"></script>
    <script>
        if (location.host === 'www.7esba.com' || location.host === '7esba.com') {
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function() {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o), m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
            ga('create', 'UA-90016638-1', 'auto');
            ga('send', 'pageview');
        }
    </script>
    <script>
        if (location.host === 'www.7esba.com' || location.host === '7esba.com') {
            (function(h, o, t, j, a, r) {
                h.hj = h.hj || function() {
                    (h.hj.q = h.hj.q || []).push(arguments)
                };
                h._hjSettings = {
                    hjid: 384086,
                    hjsv: 5
                };
                a = o.getElementsByTagName('head')[0];
                r = o.createElement('script');
                r.async = 1;
                r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
                a.appendChild(r);
            })(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv=');
        }
    </script>
    <script async="" src="./إيرادات ومصروفات_files/hotjar-384086.js.download"></script>
    <title>الرئيسية</title>
    <script async="" src="./إيرادات ومصروفات_files/modules.5fe2f4f38cf4833026a9.js.download" charset="utf-8"></script>
    <style type="text/css">
        iframe#_hjRemoteVarsFrame {
            display: none !important;
            width: 1px !important;
            height: 1px !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }
    </style>
</head>

<body class="vsc-initialized">
    <nav class="navbar sidebar" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <!-- <span class="navbar-toggle text-right nav-bar-menu-name font20px gray-text">القائمة</span> -->
                <span class="navbar-toggle text-center nav-bar-menu-building-name font20px light-gray-text">عمارة عكا 2021</span>
                <button type="button" class="navbar-toggle pull-left" data-target="#bs-sidebar-navbar-collapse-1" data-toggle="collapse">
      				<span class="sr-only">القائمة</span>
              <span class="fa fa-bars"></span>
      			</button>
                <!-- <a class="navbar-brand pull-left" href="/admin-dashboard">7esba</a> -->
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-sidebar-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a class="dropdown-toggle user-account" data-toggle="dropdown" href="https://www.7esba.com/admin-dashboard#">Ahmed <span class="fa fa-angle-down"></span></a>
                        <ul class="dropdown-menu text-center">
                            <!-- <li><a href="#" class="white-text text-center">إعدادت الحساب</a></li> -->
                            <li class="nav-account-myaccount">
                                <a href="https://www.7esba.com/my-account" class="text-right">
                                    <span class="fa fa-user-o" aria-hidden="true"></span>
                                    <span> حسابي</span>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.7esba.com/logout" class="text-right">
                                    <span class="fa fa-sign-out" aria-hidden="true"></span>
                                    <span> تسجيل خروج</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <hr class="hr-no-margin hr-light-gray">
                    <div id="build-address" class="hidden-sm hidden-xs">
                        <div id="address" class="">

                            <div class="address-name">عمارة عكا 2021</div>
                            <div class="address-text"></div>

                            <div class="address-floorsNunits unit-floor">الأدوار <span class="address-floors">6</span> - الوحدات 26 </div>

                        </div>
                    </div>
                    <hr class="hr-no-margin hr-light-gray hidden-sm hidden-xs">
                    <li class="nav-item-1-main active">
                        <a href="https://www.7esba.com/admin-dashboard"><span class="fa fa-fw fa-edit sub-sidebar-icon" aria-hidden="true"></span>إيرادات و مصروفات</a>
                    </li>

                    <hr class="hr-no-margin hr-light-gray">
                    <p class="section-title"><i class="fa fa-line-chart sidebar-icon" aria-hidden="true"></i>تقارير</p>
                    <li class="nav-item-report-unit" id="nav-item-report-unit"><a href="unit-report.html"><span class="fa fa-fw fa-home sub-sidebar-icon" aria-hidden="true"></span>تقرير الوحدة</a></li>
                    <li class="nav-item-report-monthly" id="nav-item-report-monthly">
                        <a href="https://www.7esba.com/monthly-report">
                            <span class="fa fa-fw fa-calendar-o sub-sidebar-icon fa-stack fa-stack-height-adjust" aria-hidden="true"><strong class="fa-stack-1x calendar-text">31</strong></span> تقرير الشهر</a>
                    </li>
                    <li class="nav-item-report-yearly" id="nav-item-report-yearly"><a href="https://www.7esba.com/yearly-report"><span class="fa fa-fw fa-calendar sub-sidebar-icon" aria-hidden="true"></span>تقرير العام</a></li>
                    <li class="nav-item-report-dues" id="nav-item-report-dues"><a href="https://www.7esba.com/dues-report"><span class="fa fa-fw fa-dollar sub-sidebar-icon" aria-hidden="true"></span>تقرير المديونيات</a></li>
                    <li class="nav-item-report-item" id="nav-item-report-item"><a href="https://www.7esba.com/item-report"><span class="fa fa-fw fa-bar-chart sub-sidebar-icon" aria-hidden="true"></span>تقرير مصروف / إيراد</a></li>

                    <hr class="hr-no-margin hr-light-gray">
                    <p class="section-title"><i class="fa fa-cogs sidebar-icon" aria-hidden="true"></i>إعدادات</p>
                    <li class="nav-item-4-settings">
                        <a href="https://www.7esba.com/settings">
                            <span class="fa fa-fw fa-cog sub-sidebar-icon" aria-hidden="true"> 
                  </span>إعدادات الوحدات</a>
                    </li>
                    <!-- <li class="nav-item-tenants-settings">
                <a href="/tenants-settings-list">
                   <span class="fa fa-fw fa-users sub-sidebar-icon" aria-hidden="true"> 
                  </span>بيانات السكان</a>
              </li> -->
                    <li class="nav-item-building_desc">
                        <a href="https://www.7esba.com/building-settings"><span class="fa fa-fw fa-building-o sub-sidebar-icon" aria-hidden="true"></span>إعدادات العقار<span class="subscription-warning-icon-menu pull-left font20px "></span></a>
                    </li>

                    <li class="nav-item-settings-sms">
                        <a href="https://www.7esba.com/sms-settings"><span class="fa fa-fw fa-envelope-o sub-sidebar-icon" aria-hidden="true"></span>إشعارات SMS <span class="badge smsCreditBadge  badge-warning" data-toggle="tooltip" title="" data-original-title="رصيد الرسائل أقل من عدد الوحدات!" dir="ltr">5</span></a>
                    </li>

                    <hr class="hr-no-margin hr-light-gray">
                    <li class="nav-item-5-help">
                        <a href="https://www.7esba.com/faq"><span class="fa fa-fw fa-question-circle-o sub-sidebar-icon" aria-hidden="true"></span>مساعدة</a>
                    </li>
                </ul>
                <!-- Contact us  -->
                <ul class="sm-footer">
                    <!-- <div class="light-gray-text font17px">رمضان كريم 🌙</div>
              <div id="ramadan" class="light-gray-text font14px">
                <div id="prayer"></div> 
                <div id="time2prayer" data-toggle="tooltip" title=""></div>
              </div> -->
                    <li><a href="mailto:support@7esba.com" data-toggle="tooltip" title="" target="_blank" class="gray-tooltip" data-original-title="E-mail"><i class="fa fa-envelope fa-2x"></i></a></li>
                    <li><a href="https://www.twitter.com/7esba" data-toggle="tooltip" title="" target="_blank" class="gray-tooltip" data-original-title="Twitter"><i class="fa fa-twitter fa-2x"></i></a></li>
                    <li><a href="https://www.facebook.com/7esba" data-toggle="tooltip" title="" target="_blank" class="gray-tooltip" data-original-title="Facebook"><i class="fa fa-facebook fa-2x"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Content -->
    <div class="main">

        <!-- Connection -->
        <div id="offline-time-stamp" class="text-center offline-notification-banner print-remove hidden">
            <div><span class="fa fa-chain-broken"></span> غير متصل بالشبكة!</div>
            <div class="font14px mar-top-10px">قد تكون البيانات في هذه الصفحة غير محدثة. قم بفتح الصفحة عند الإتصال بالشبكة لتحديث البيانات.</div>
            <div class="font12px mar-top-10px alert-success">اخر تحميل للصفحة كان بتاريخ <span class="page-load-datetime" val="2021-09-12 03:20:16.670535">2021-09-12 03:20:16.670535</span></div>
        </div>

        <!-- Dash -->
        <div class="row" id="month-dash">
            <div class="col-sm-12 col-xs-12 text-center">
                <div class="hidden-lg hidden-md hidden-sm col-xs-12">
                    <div class="month-title-big">موقف سبتمبر 2021
                        <button class="btn btn-success fa fa-calendar page-date-input"></button>
                    </div>
                </div>
                <div class="col-sm-3 col-sm-push-9 col-xs-12 form-close">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-arrow-down fa-lg"></i> إيرادات سبتمبر</h3>
                        </div>
                        <div class="panel-body">
                            <div id="wared" class="col-md-12 font20px" dir="ltr">0</div>
                            <div class="col-md-12">
                                <div class="table-responsive">
                                    <table class="table font14px">
                                        <thead>
                                            <tr>
                                                <td class="text-center table-header-success">مرحل
                                                </td>
                                                <td class="text-center table-header-success">إيراد
                                                </td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td id="mora7al" dir="ltr">0</td>
                                                <td id="ta7seel" dir="ltr">0</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-xs-12 form-close">
                    <div class="col-sm-6 col-xs-6 form-close">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="fa fa-inbox fa-lg"></i> المتاح سبتمبر</h3>
                            </div>
                            <div class="panel-body">
                                <div id="almota7" class="font20px" dir="ltr">0</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xs-6 form-close">
                        <div class="panel panel-danger">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="fa fa-arrow-up fa-lg"></i> مصروفات سبتمبر</h3>
                            </div>
                            <div class="panel-body">
                                <div id="monsaref" class="font20px" dir="ltr">0</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 hidden-xs">
                        <div class="month-title-big ">موقف سبتمبر 2021 <button class="btn btn-success fa fa-calendar page-date-input"></button>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-sm-pull-9 col-xs-12 form-close panelDues">
                    <div class="panel panel-warning">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-user-times fa-lg"></i> مديونيات سبتمبر <span class="fa fa-info-circle font14px"></span></h3>
                        </div>
                        <div class="panel-body">
                            <div id="madyoneyat" class="col-md-12 font20px" dir="ltr">0</div>
                            <div class="col-md-12">
                                <div class="table-responsive">
                                    <table class="table font14px">
                                        <thead>
                                            <tr>
                                                <!-- <td class="text-center table-header-warning">سابقة</td> -->
                                                <td class="text-center table-header-warning">مديونيات 2021</td>
                                                <!-- <td class="text-center table-header-warning">المجموع</td> -->
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <!-- <td id="dues_past_months">-</td> -->
                                                <td id="dues_this_year" dir="ltr">0</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- year expenses -->
        <div class="row" id="expensesRow">
            <div class="col-md-12 text-center">
                <div class="dash-table-title alert-danger font20px" role="alert">
                    <span>أضف مصروفات 2021</span>

                    <button type="button" name="btn-show-hide-exp" class="btn btn-danger pull-right fa fa-th-list fa-height-adjust fa-lg font14px text-bold btn-show-hide-exp" data-toggle="modal" data-target="#showHideExp"><span class="hidden-xs">إختيار بنود الصرف</span></button>
                </div>
                <div class="table-responsive dropstyle divExpTable">
                    <table id="tableExpenses" class="table table-striped">
                        <thead>
                            <tr class="bg-danger">
                                <th colspan="2" class="text-center bg-danger kolfreeze_head" id="exp-categories">البند</th>
                                <!-- <th class="text-center">النوع</th> -->
                                <th class="text-center dash-tables-months">يناير</th>
                                <th class="text-center dash-tables-months">فبراير</th>
                                <th class="text-center dash-tables-months">مارس</th>
                                <th class="text-center dash-tables-months">إبريل</th>
                                <th class="text-center dash-tables-months">مايو</th>
                                <th class="text-center dash-tables-months">يونيو</th>
                                <th class="text-center dash-tables-months">يوليو</th>
                                <th class="text-center dash-tables-months">أغسطس</th>
                                <th class="text-center dash-tables-months">سبتمبر</th>
                                <th class="text-center dash-tables-months">أكتوبر</th>
                                <th class="text-center dash-tables-months">نوفمبر</th>
                                <th class="text-center dash-tables-months">ديسمبر</th>
                                <th class="text-center dash-tables-months">المجموع</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr name="exp-row">
                                <td class="bg-danger exp-cat kolfreeze" data-ky="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICD9oMLDA">
                                    <div class="exp-row-catnicon">كهرباء<span class="cat-img pull-right exp-cat-icon fa fa-bolt"></span></div>
                                </td>
                                <td class="text-right bg-danger kolfreeze2">
                                    <div class="name_text">قيمة فاتورة</div>
                                </td>


                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-1" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-2" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-3" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-4" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-5" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-6" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-7" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-8" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center month-border-red red-text" dir="ltr">
                                    <div name="exp-9" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-10" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-11" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-12" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>


                                <td name="exp_year_total" class="right-dashed-red-border text-bold bg-danger red-text" dir="ltr">0</td>
                            </tr>

                            <tr name="exp-row">
                                <td class="bg-danger exp-cat kolfreeze" data-ky="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICmzJMLDA">
                                    <div class="exp-row-catnicon">مياة<span class="cat-img pull-right exp-cat-icon fa fa-tint"></span></div>
                                </td>
                                <td class="text-right bg-danger kolfreeze2">
                                    <div class="name_text">قيمة فاتورة</div>
                                </td>


                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-1" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-2" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-3" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-4" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-5" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-6" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-7" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-8" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center month-border-red red-text" dir="ltr">
                                    <div name="exp-9" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-10" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-11" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-12" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>


                                <td name="exp_year_total" class="right-dashed-red-border text-bold bg-danger red-text" dir="ltr">0</td>
                            </tr>

                            <tr name="exp-row">
                                <td class="bg-danger exp-cat kolfreeze" data-ky="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDekIEKDA">
                                    <div class="exp-row-catnicon">المصعد<span class="cat-img pull-right exp-cat-icon fa fa-sort"></span></div>
                                </td>
                                <td class="text-right bg-danger kolfreeze2">
                                    <div class="name_text">صيانة دورية</div>
                                </td>


                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-1" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-2" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-3" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-4" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-5" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-6" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-7" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-8" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center month-border-red red-text" dir="ltr">
                                    <div name="exp-9" data-toggle="tooltip" title="" data-original-title="">-</div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-10" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-11" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>



                                <td class="exp-td exp-td-add text-center  red-text" dir="ltr">
                                    <div name="exp-12" data-toggle="tooltip" title="" data-original-title=""></div>
                                </td>


                                <td name="exp_year_total" class="right-dashed-red-border text-bold bg-danger red-text" dir="ltr">0</td>
                            </tr>

                            <tr id="exp_totals_row" class="text-bold top-red-border bg-danger">
                                <td colspan="2" class="bg-danger kolfreeze_head">المجموع</td>
                                <!-- <td></td> -->

                                <td class="bg-danger red-text" name="monthly_exp_1" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_2" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_3" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_4" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_5" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_6" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_7" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_8" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_9" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_10" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_11" dir="ltr">0</td>

                                <td class="bg-danger red-text" name="monthly_exp_12" dir="ltr">0</td>

                                <td id="exp_totals" class="text-bold right-dashed-red-border bg-danger red-text" dir="ltr">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="space-10px">
                </div>
                <!-- <button type="button" name = "btn-show-hide-exp" class = "btn btn-danger pull-right fa fa-plus fa-height-adjust fa-lg" data-toggle="modal" data-target = "#showHideExp">إختيار بنود الصرف</button> -->

            </div>
        </div>

        <!-- year collections -->
        <div class="row" id="collectionsRow">
            <div class="col-md-12 text-center">
                <div class="dash-table-title alert-success" role="alert">
                    <button type="button" name="btn-add-oi" class="btn btn-success pull-right fa fa-th-list fa-height-adjust fa-lg font14px text-bold btn-add-oi" data-toggle="modal" data-target="#newOImodal"><span class="hidden-xs">أضف مصدر إيراد خارجي</span></button>

                    <div class="searchBox pull-left hidden-xs">
                        <input type="text" dir="rtl" id="myCsearchInput" name="myCsearchInput" class="form-control" onkeyup="mySearch()" placeholder="إبحث بالإسم أو رقم الوحدة..">
                        <i class="ico-del fa fa-times-rectangle" aria-hidden="true"></i>
                        <!-- <i class="ico-srch fa fa-search fa-lg" aria-hidden="true"></i> -->
                    </div>

                    <span class="gray-text font20px">أضف إيرادات 2021</span>


                </div>
                <div class="table-responsive dropstyle divColTable">
                    <table class="table table-striped" id="TableCollections">
                        <thead>
                            <tr class="tr-blk-btns">
                                <td class="bg-success kolfreezeCol_head1_1span">
                                    <div class="countSelected non-visible"></div>
                                </td>
                                <td class="bg-success kolfreezeCol_head2_1span"></td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="1"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="2"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="3"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="4"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="5"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="6"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="7"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="8"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="9"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="10"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="11"></a>
                                    </div>
                                </td>
                                <td class="text-center bg-success">
                                    <div>
                                        <a class="fa fa-plus bulk-add-col btn btn-success btn-sm non-visible" name="12"></a>
                                    </div>
                                </td>
                                <td class="bg-success "></td>
                                <td class="bg-success"></td>
                                <td class="bg-success"></td>
                            </tr>
                            <tr class="bg-success">
                                <th class="text-right dash-tables-months thead bg-success kolfreezeCol_head1_1span th-sel-tenants" id="tour-sel-all-tenants">
                                    <div class="div_units_selection">
                                        <select class="form-control units-selection" id="sel-units">
                    <option value="choose" selected="">إختر...</option>
                    <option value="all">الجميع</option>
                    <option value="available">المقيم</option>
                    <option value="closed">المغلق</option>
                    <option value="renovating">تحت التشطيب</option>
                    <option value="none">لا أحد</option>
                  </select>
                                    </div>
                                </th>
                                <th class="text-right dash-tables-months bg-success kolfreezeCol_head2_1span">
                                    <div>الوحدة</div>
                                </th>
                                <th class="text-center dash-tables-months">يناير</th>
                                <th class="text-center dash-tables-months">فبراير</th>
                                <th class="text-center dash-tables-months">مارس</th>
                                <th class="text-center dash-tables-months">إبريل</th>
                                <th class="text-center dash-tables-months">مايو</th>
                                <th class="text-center dash-tables-months">يونيو</th>
                                <th class="text-center dash-tables-months">يوليو</th>
                                <th class="text-center dash-tables-months">أغسطس</th>
                                <th class="text-center dash-tables-months">سبتمبر</th>
                                <th class="text-center dash-tables-months">أكتوبر</th>
                                <th class="text-center dash-tables-months">نوفمبر</th>
                                <th class="text-center dash-tables-months">ديسمبر</th>
                                <th class="text-center dash-tables-months right-solid-gray-border">المجموع</th>
                                <th class="text-center dash-tables-months bg-pale-green long-th op_balance light-gray-text">
                                    <div class="long-th text-center" data-toggle="tooltip" title="" data-original-title="رصيد افتتاحي من 2020">رصيد سابق</div>
                                </th>
                                <th class="text-center dash-tables-months nowrap">رصيد 2021</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Cols -->

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_1" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_1" class="selected-units font17px occupied-unit " name="sel-unit-1" value=""><div class="unum_text">1</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbACAw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <div class="name_text ">محمد سليم</div>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_2" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_2" class="selected-units font17px occupied-unit " name="sel-unit-2" value=""><div class="unum_text">2</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbACgw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_3" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_3" class="selected-units font17px occupied-unit " name="sel-unit-3" value=""><div class="unum_text">3</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbACQw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_4" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_4" class="selected-units font17px occupied-unit " name="sel-unit-4" value=""><div class="unum_text">4</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbACww">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_5" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_5" class="selected-units font17px occupied-unit " name="sel-unit-5" value=""><div class="unum_text">5</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JagCAw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_6" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_6" class="selected-units font17px occupied-unit " name="sel-unit-6" value=""><div class="unum_text">6</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JagCgw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_7" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_7" class="selected-units font17px occupied-unit " name="sel-unit-7" value=""><div class="unum_text">7</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JagCQw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_8" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_8" class="selected-units font17px occupied-unit " name="sel-unit-8" value=""><div class="unum_text">8</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JagCww">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_9" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_9" class="selected-units font17px occupied-unit " name="sel-unit-9" value=""><div class="unum_text">9</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbgCAw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_10" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_10" class="selected-units font17px occupied-unit " name="sel-unit-10" value=""><div class="unum_text">10</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbgCgw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_11" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_11" class="selected-units font17px occupied-unit " name="sel-unit-11" value=""><div class="unum_text">11</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbgCQw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_12" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_12" class="selected-units font17px occupied-unit " name="sel-unit-12" value=""><div class="unum_text">12</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbgCww">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_13" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_13" class="selected-units font17px occupied-unit " name="sel-unit-13" value=""><div class="unum_text">13</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JaQCAw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_14" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_14" class="selected-units font17px occupied-unit " name="sel-unit-14" value=""><div class="unum_text">14</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JaQCgw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_15" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_15" class="selected-units font17px occupied-unit " name="sel-unit-15" value=""><div class="unum_text">15</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JaQCQw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_16" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_16" class="selected-units font17px occupied-unit " name="sel-unit-16" value=""><div class="unum_text">16</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JaQCww">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_17" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_17" class="selected-units font17px occupied-unit " name="sel-unit-17" value=""><div class="unum_text">17</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbQCAw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_18" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_18" class="selected-units font17px occupied-unit " name="sel-unit-18" value=""><div class="unum_text">18</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbQCgw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_19" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_19" class="selected-units font17px occupied-unit " name="sel-unit-19" value=""><div class="unum_text">19</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbQCQw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_20" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_20" class="selected-units font17px occupied-unit " name="sel-unit-20" value=""><div class="unum_text">20</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbQCww">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_21" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_21" class="selected-units font17px occupied-unit " name="sel-unit-21" value=""><div class="unum_text">21</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JawCAw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_22" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_22" class="selected-units font17px occupied-unit " name="sel-unit-22" value=""><div class="unum_text">22</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JawCgw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_23" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_23" class="selected-units font17px occupied-unit " name="sel-unit-23" value=""><div class="unum_text">23</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JawCQw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_24" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_24" class="selected-units font17px occupied-unit " name="sel-unit-24" value=""><div class="unum_text">24</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JawCww">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_25" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_25" class="selected-units font17px occupied-unit " name="sel-unit-25" value=""><div class="unum_text">25</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbwCAw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <tr name="col-row">
                                <td class="td-checkbox bg-success kolfreezeCol">
                                    <label for="sel_tenant_26" class="pull-right lbl-unit-num"><input type="checkbox" id="sel_tenant_26" class="selected-units font17px occupied-unit " name="sel-unit-26" value=""><div class="unum_text">26</div>
                    
                    
                    
                  </label>
                                </td>
                                <td class="tenantName bg-success text-right td-title-hl-green kolfreezeCol2" data-ky="agtofnByb2Q3ZXNiYXImCxIIQnVpbGRpbmcYgICApviWgAgMCxIEVW5pdBiAgICm-JbwCgw">
                                    <div class="tenant-icon hidden"><span class="fa fa-gray fa-id-card-o text-left"></span></div>

                                    <span class="emptyName">الساكن</span>

                                    <!-- {unitsList[i].tenant_name if unitsList[i].tenant_name else unitsList[i].owner_name}} -->
                                </td>



                                <td class="col-td col-td-add ">
                                    <div name="col-1" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-2" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-3" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-4" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-5" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-6" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-7" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-8" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add month-border-green">
                                    <div name="col-9" data-toggle="tooltip" data-original-title="" title="">-</div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-10" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-11" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>





                                <td class="col-td col-td-add ">
                                    <div name="col-12" data-toggle="tooltip" data-original-title="" title=""></div>
                                </td>



                                <td name="unit_year_collection_total" class="right-dashed-green-border bg-success text-bold" dir="ltr"></td>
                                <td class="text-center bg-pale-green light-gray-text op_balance" dir="ltr">
                                    <div name="unit_opening_balance" data-toggle="tooltip" title="" data-original-title="رصيد من 2020">0</div>
                                </td>
                                <td name="unit_year_credit" class="" dir="ltr">
                                    <div class="credit_content" data-toggle="tooltip" data-original-title="&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : مجموع&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;-0 : مديونيات&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد سابق&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;----&lt;/div&gt;&lt;div class=&quot;text-left&quot; dir=&quot;ltr&quot;&gt;0 : رصيد&lt;/div&gt;"
                                        data-html="true">0</div>
                                </td>
                            </tr>

                            <!-- OI  -->

                            <!-- Totals -->
                            <tr class="top-green-border" name="collections_total">
                                <td colspan="2" class="text-bold kolfreezeCol_head" id="TCOL">إجمالي الإيراد</td>

                                <td name="monthly_col_0">0</td>

                                <td name="monthly_col_1">0</td>

                                <td name="monthly_col_2">0</td>

                                <td name="monthly_col_3">0</td>

                                <td name="monthly_col_4">0</td>

                                <td name="monthly_col_5">0</td>

                                <td name="monthly_col_6">0</td>

                                <td name="monthly_col_7">0</td>

                                <td name="monthly_col_8">0</td>

                                <td name="monthly_col_9">0</td>

                                <td name="monthly_col_10">0</td>

                                <td name="monthly_col_11">0</td>

                                <td id="col_totals" class="right-dashed-green-border text-bold bg-success">0</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr class="">
                                <td colspan="2" class="kolfreezeCol_head" id="CARY">مرحل من الشهر الماضي</td>

                                <td name="from_last_0" dir="ltr">0</td>

                                <td name="from_last_1" dir="ltr">0</td>

                                <td name="from_last_2" dir="ltr">0</td>

                                <td name="from_last_3" dir="ltr">0</td>

                                <td name="from_last_4" dir="ltr">0</td>

                                <td name="from_last_5" dir="ltr">0</td>

                                <td name="from_last_6" dir="ltr">0</td>

                                <td name="from_last_7" dir="ltr">0</td>

                                <td name="from_last_8" dir="ltr">0</td>

                                <td name="from_last_9" dir="ltr"></td>

                                <td name="from_last_10" dir="ltr"></td>

                                <td name="from_last_11" dir="ltr"></td>

                                <td class="right-dashed-green-border"></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr class="top-gray-border bg-success text-bold">
                                <td colspan="2" class="text-bold bg-success kolfreezeCol_head">المجموع</td>

                                <td name="collected_total_0" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_1" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_2" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_3" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_4" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_5" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_6" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_7" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_8" class="bg-success" dir="ltr">0</td>

                                <td name="collected_total_9" class="bg-success" dir="ltr"></td>

                                <td name="collected_total_10" class="bg-success" dir="ltr"></td>

                                <td name="collected_total_11" class="bg-success" dir="ltr"></td>

                                <td class="right-dashed-green-border bg-success" name="collections_total_allyear"></td>
                                <td class="bg-success"></td>
                                <td class="bg-success"></td>
                            </tr>
                            <tr class="top-blue-border">
                                <td colspan="2" class="bg-info dark-blue-text kolfreezeCol_head"><span data-toggle="tooltip" data-original-title="المتبقي بعد خصم مصروفات نفس الشهر">المتبقي/المتاح <span class="fa fa-info-circle"></span></span>
                                </td>

                                <td name="avail_0" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_1" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_2" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_3" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_4" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_5" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_6" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_7" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_8" class="bg-info dark-blue-text" dir="ltr">0</td>

                                <td name="avail_9" class="bg-info dark-blue-text" dir="ltr"></td>

                                <td name="avail_10" class="bg-info dark-blue-text" dir="ltr"></td>

                                <td name="avail_11" class="bg-info dark-blue-text" dir="ltr"></td>

                                <td class="right-dashed-green-border bg-info"></td>
                                <td class="bg-info"></td>
                                <td class="bg-info"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- add/edit modal -->
        <div class="modal fade bs-example-modal-sm" id="newExpCat" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header modal-round-header">
                        <button type="button" id="btn-close-modal" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <span class="fa fa-lg operation pull-left"></span>
                        <h4 class="modal-title text-center" id="myModalLabel">إضافة مصروف جديد</h4>
                        <p class="add-modal-subtitle"></p>
                    </div>
                    <div class="modal-body">
                        <form id="formnewexpense" name="myFormModal" class="form" action="https://www.7esba.com/admin-dashboard" method="post">
                            <div class="form-group hidden">
                                <label for="selectcat">البند</label>
                                <select class="form-control" id="selectcat" data-toggle="tooltip" title="" name="cat" required="" data-original-title="إختر">
                    <option value="">(إختر)</option>
                    
                      <option value="العقار">العقار</option>
                    
                      <option value="المصعد">المصعد</option>
                    
                      <option value="حديقة">حديقة</option>
                    
                      <option value="كهرباء">كهرباء</option>
                    
                      <option value="مرتبات">مرتبات</option>
                    
                      <option value="مياة">مياة</option>
                    
                      <option value="نظافة">نظافة</option>
                    
                  </select>
                            </div>

                            <div class="form-group hidden">
                                <label for="ctype">نوع المصروف</label>
                                <select class="form-control" id="selectctype" data-toggle="tooltip" title="" name="ctype" required="" data-original-title="إختر">
                    <option value="">(إختر)</option>
                    
                  </select>
                            </div>

                            <div class="form-group red-text hidden" id="unit_debt">
                                <label for=""></label>
                            </div>

                            <div class="form-group">
                                <label for="amount">القيمة</label>
                                <input type="number" class="form-control" name="eamount" min="0.01" value="" step="0.01" data-hj-whitelist="" required="">
                            </div>

                            <!-- More details -->
                            <div class="form-group">
                                <a href="https://www.7esba.com/admin-dashboard#more_details" class="more_details form-control form-group text-center fa-height-adjust" data-toggle="collapse" data-target="#more_details">
                    تفاصيل أكثر
                    <i class="fa fa-chevron-down fa-pull-left fa-height-adjust" id="moreinfo-arrow" aria-hidden="true"></i>
                  </a>
                            </div>
                            <div class="collapse" id="more_details">
                                <div class="form-group">
                                    <label for="edate">التاريخ</label>
                                    <input type="text" name="edate" class="form-control" id="edate" value="" data-hj-whitelist="" required="">
                                    <input type="hidden" id="utcdate" name="utcdate" value="">
                                    <input type="hidden" name="f" value="addexp">
                                    <input type="hidden" name="k" value="">
                                    <input type="hidden" name="ref" value="">
                                    <input type="hidden" name="expcd" value="">
                                    <input type="hidden" name="myYear" value="2021">
                                    <input type="hidden" name="myMonth" value="9">
                                </div>
                                <div class="form-group">
                                    <label for="enotes">ملاحظات/تفاصيل أخرى</label>
                                    <textarea name="enotes" class="form-control" id="enotes" rows="4" cols="40" data-hj-whitelist="" placeholder="ملاحظات/تفاصيل أخرى "></textarea>
                                </div>
                            </div>

                            <div class="form-group">
                                <div id="exp-div-section">
                                    <div class="">
                                        <label for="exp-div">يصرف من</label>
                                    </div>
                                    <label class="radio-inline">
                          <input type="radio" name="exp-div" id="exp-div1" value="normal" checked="checked">صندوق العقار
                        </label>
                                    <label class="radio-inline" data-toggle="tooltip" data-html="true" title="" data-original-title="ستفتح صفحة جديدة لتخصيص نصيب كل وحدة من هذا المصروف">
                          <input type="radio" name="exp-div" id="exp-div2" value="exceptional">
                          ميزانية مستقلة
                        </label>
                                    <!-- <select class="form-control" id="exp-div" data-toggle="tooltip" title="" name="exp-div" required>
                          <option value="normal">صندوق العقار</option>
                          <option value="exceptional">مصروف بميزانية مستقلة</option>
                        </select> -->
                                    <!-- <option value="new-project" disabled>مشروع جديد</option> -->
                                </div>
                            </div>

                            <div class="">
                                <button type="submit" class="btn btn-success" id="confirmNewExp">أضف المصروف الجديد</button>
                                <span id="loading"></span>
                                <button type="submit" class="btn btn-default btn-lg hidden pull-left fa fa-trash-o fa-lg exp-modal" id="DeleteEntry" data-toggle="tooltip" title="" data-original-title="حذف"></button>
                            </div>
                        </form>
                    </div>
                    <div class="edit-modal-footer modal-footer my-modal-footer font10px hidden" data-toggle="tooltip" data-delay="{&quot;show&quot;: 200}" data-animation="true" data-original-title="" title="">
                        <span class="light-gray-text">أخر تغيير <span class="last-change-date"></span> <span class="last-change-user hidden" dir="ltr"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Show/Hide expenses-->
        <div class="modal fade bs-example-modal-sm" id="showHideExp" tabindex="-1" role="dialog" aria-labelledby="myModalShowHide">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title text-center" id="myModalShowHide"> إختيار بنود الصرف</h4>
                    </div>
                    <div class="modal-body form-close">
                        <form id="formshowexpense" name="showHideExpModal" class="form">
                            <div class="col-xs-12 form-close">
                                <!-- CAT TYPE -->
                                <div class="col-xs-6 form-close">

                                    <div name="show-cat-type" data-parent-cat="كهرباء" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICD9oMLDA">قيمة فاتورة</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="كهرباء" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgID4woQKDA">إصلاح</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="كهرباء" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIC5qZkLDA">تجديدات</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="مياة" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICmzJMLDA">قيمة فاتورة</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="مياة" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDa44YKDA">إصلاح</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="مياة" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgMDogJ8LDA">تجديدات</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="المصعد" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDekIEKDA">صيانة دورية</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="المصعد" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICZ0oUKDA">إصلاح</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="المصعد" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICBpswKDA">تجديدات</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="حديقة" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDf-MUJDA">عناية دورية</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="حديقة" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDC-88IDA">مشتريات</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="نظافة" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDe6okKDA">مشتريات</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="نظافة" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDejJAKDA">خدمة</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="مرتبات" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDCndYIDA">أمن</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="مرتبات" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICBvNUKDA">بواب</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="مرتبات" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICD9oMJDA">جراج</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="مرتبات" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgIDC-48LDA">نظافة</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="العقار" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICr75YKDA">إصلاح</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="العقار" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICr84cKDA">تجديدات</label>

                                    </div>

                                    <div name="show-cat-type" data-parent-cat="العقار" class="checkbox btn-lg show-cat-type btn-lg hidden">
                                        <label class=""><input type="checkbox" class="showhideoption" value="agtofnByb2Q3ZXNiYXIcCxIPRXhwZW5zZUNhdGVnb3J5GICAgICi4N4IDA">مشتريات</label>

                                    </div>

                                    <!-- New custom category input box -->
                                    <div class="form-group" id="custom-cat-section">
                                        <div name="show-cat-type" data-parent-cat="اخرى" class="input text-center hidden">
                                            <label class="gray-text font14px text-right">أضف بند جديد
                        <input type="text" name="custom-cat-name" class="form-control input input-sm" value="" placeholder="اسم البند">
                      </label>
                                            <button class="btn btn-primary btn-sm" type="button" name="save-custom-cat">حفظ</button>
                                        </div>
                                    </div>
                                    <!-- ******** -->
                                </div>

                                <!-- CATEGORY -->
                                <div class="col-xs-6 form-close">


                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-bolt"></span>
                        <div data-mycat="كهرباء" class="white-text pull-right">كهرباء</div>
                      </button>
                                    </div>







                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-tint"></span>
                        <div data-mycat="مياة" class="white-text pull-right">مياة</div>
                      </button>
                                    </div>







                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-sort"></span>
                        <div data-mycat="المصعد" class="white-text pull-right">المصعد</div>
                      </button>
                                    </div>







                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-tree"></span>
                        <div data-mycat="حديقة" class="white-text pull-right">حديقة</div>
                      </button>
                                    </div>





                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-paint-brush"></span>
                        <div data-mycat="نظافة" class="white-text pull-right">نظافة</div>
                      </button>
                                    </div>





                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-street-view"></span>
                        <div data-mycat="مرتبات" class="white-text pull-right">مرتبات</div>
                      </button>
                                    </div>









                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-building-o"></span>
                        <div data-mycat="العقار" class="white-text pull-right">العقار</div>
                      </button>
                                    </div>






                                    <!-- OTHER Category -->

                                    <div class="form-group">
                                        <button name="show-cat" class="btn blue-btn form-control form-close known-exp-cat" role="button">
                        <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                        <span class="cat-img pull-right font20px fa fa-tag"></span>
                        <div data-mycat="اخرى" class="white-text pull-right">اخرى<div>
                      </div></div></button>
                                    </div>

                                    <!-- ******** -->
                                </div>
                            </div>
                            <div class="text-center">
                                <button type="button" class="btn btn-success" data-dismiss="modal" id="confirmShowHide">أغلق</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- OI Cat modal -->
        <div class="modal fade bs-example-modal-sm" id="newOImodal" tabindex="-1" role="dialog" aria-labelledby="myModalOI">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-dark-green">
                        <button type="button" id="btn-close-modal" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title text-center" id="OIModalLabel">أضف مصدر دخل خارجي</h4>
                    </div>
                    <div class="modal-body form-close">
                        <form id="formnewoi" name="myOIFormModal" class="form">
                            <div class="col-xs-12 form-close">
                                <div class="col-xs-6 form-close section2">

                                    <div class="new-custom-oi hidden">
                                        <fieldset class="div-dashed-gray fieldset-new-cat">
                                            <legend class="gray-text text-center">مصدر جديد</legend>
                                            <div class="form-group">
                                                <label class="font14px" for="OInameInput">اسم المصدر الجديد</label>
                                                <input class="form-control" type="text" name="OInameInput" id="OInameInput" data-hj-whitelist="" value="">
                                            </div>
                                            <div class="form-group">
                                                <label for="OInotes">ملاحظات</label>
                                                <textarea name="OInotes" class="form-control" id="OInotes" rows="4" cols="40" data-hj-whitelist="" placeholder="مثل مدة العقد، نسبة الفائدة، رقم حساب..."></textarea>
                                            </div>
                                            <div class="text-center">
                                                <button class="btn btn-primary btn-sm" type="button" name="save-custom-oi">حفظ المصدر الجديد</button>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                                <div class="col-xs-6 section1 form-close">

                                    <div class="form-group">
                                        <button name="btn-oi-cat" class="btn blue-btn form-control form-close" role="button">
                          <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                          
                            <span class="cat-img pull-right font20px fa fa-desktop"></span>
                            
                          <div data-mycat="5131130453884928" class="white-text pull-right">إعلانات</div>
                        </button>
                                    </div>

                                    <div class="form-group">
                                        <button name="btn-oi-cat" class="btn blue-btn form-control form-close" role="button">
                          <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                          
                            <span class="cat-img pull-right font20px fa fa-car"></span>
                            
                          <div data-mycat="6257030360727552" class="white-text pull-right">جراج عمومي</div>
                        </button>
                                    </div>

                                    <div class="form-group">
                                        <button name="btn-oi-cat" class="btn blue-btn form-control form-close" role="button">
                          <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                          
                            <span class="cat-img pull-right font20px fa fa-handshake-o "></span>
                            
                          <div data-mycat="4849655477174272" class="white-text pull-right">نشاط تجاري</div>
                        </button>
                                    </div>

                                    <div class="form-group">
                                        <button name="btn-oi-cat" class="btn blue-btn form-control form-close" role="button">
                          <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                          
                            <span class="cat-img pull-right font20px fa fa-bank"></span>
                            
                          <div data-mycat="5975555384016896" class="white-text pull-right">حساب بنكي</div>
                        </button>
                                    </div>

                                    <div class="form-group">
                                        <button name="btn-oi-cat" class="btn blue-btn form-control form-close" role="button">
                          <i class="fa fa-chevron-left fa-pull-left fa-height-adjust" aria-hidden="true"></i>
                          
                            <span class="cat-img pull-right font20px fa fa-tag"></span>
                            
                          <div data-mycat="5412605430595584" class="white-text pull-right">أخرى</div>
                        </button>
                                    </div>

                                    <input type="hidden" name="OIcatSelection" value="">
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="button" class="btn btn-success" id="closeNewOI">أغلق</button>
                                <span id="loading"></span>
                            </div>
                        </form>
                    </div>
                    <div class="na-modal-footer">
                    </div>
                </div>
            </div>
        </div>


    </div>

    <!-- jQuery -->
    <!-- <script src="bootstrap/js/jquery.js"></script> -->
    <!-- <script src="bootstrap/js/jquery.mobile-1.4.5.min.js"></script> -->
    <!-- <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script> -->
    <script src="./إيرادات ومصروفات_files/jquery.min.js.download"></script>
    <script src="./إيرادات ومصروفات_files/jquery-ui.min.js.download"></script>
    <script src="./إيرادات ومصروفات_files/jquery.ui.touch-punch.min.js.download"></script>
    <!-- Bootstrap Core JavaScript -->
    <!-- <script src="bootstrap/js/bootstrap.min.js"></script> -->
    <script src="./إيرادات ومصروفات_files/bootstrap.min.js.download"></script>
    <!-- Bootstrap datetimepicker -->
    <script src="./إيرادات ومصروفات_files/bootstrap-datepicker.min.js.download"></script>
    <script src="./إيرادات ومصروفات_files/bootstrap-datepicker.ar.min.js.download" charset="UTF-8"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.min.js"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/locales/bootstrap-datepicker.ar.min.js" charset="UTF-8"></script> -->
    <!-- Sweet Alert -->
    <!-- <script src="bootstrap/js/sweetalert2.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.10.3/sweetalert2.min.js"></script> -->
    <script src="./إيرادات ومصروفات_files/sweetalert2.min.js.download"></script>
    <!-- base JS -->
    <script>
        $(document).ready(function() {
            // $("li[class^=nav-item] .active").find(".load-icon").addClass("hidden");
            hideNewFeature();

        })
        $('.dropdown').on('show.bs.dropdown', function(e) {
            $(this).find('.dropdown-menu').first().stop(true, true).slideDown(300);
        });
        $('.dropdown').on('hide.bs.dropdown', function(e) {
            $(this).find('.dropdown-menu').first().stop(true, true).slideUp(2);
        });

        function menuSelect(mi) {
            $("li[class^=nav-item]").removeClass("active");
            mi.addClass("active");
        }

        function ga_register(cat, act, lbl) {
            if (location.host === 'www.7esba.com' || location.host === '7esba.com') {
                ga('send', 'event', cat, act, lbl);
            }
        }

        function hideNewFeature() {
            var today = new Date();
            var hideOn = new Date();
            hideOn.setDate(15);
            hideOn.setHours(8);
            if (today > hideOn) {
                $('.new-feature').remove();
            }
        }
        $(document).on("click", "li[class^=nav-item]", function() {
                $(".load_icon").remove();
                $(this).find("a").append('<i class="load-icon fa fa-spinner fa-spin pull-left hidden load_icon"></i>');
                $(this).find(".load-icon").removeClass("hidden");
            })
            // window.addEventListener("online", handleConnectionStatus);
            // window.addEventListener("offline", handleConnectionStatus);
        if (!navigator.onLine) {
            $("#offline-time-stamp").removeClass("hidden");
            var options = {
                year: 'numeric',
                month: 'numeric',
                day: 'numeric',
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric'
            };
            var myDate = $(".page-load-datetime").attr("val");
            console.log(myDate);
            myDate = new Date(myDate + "Z");
            console.log(myDate);
            myDate = myDate.toLocaleDateString("en-GB", options);
            console.log(myDate);
            $(".page-load-datetime").text(myDate.replace(/\//g, "-"));
        }
    </script>

    <!-- <script>
      var countDownDate;
      var x;
      setTimes();

      function setTimes(){
        // Set Iftar time
        var fajr_time = { 24:[3,32], 25:[3,31], 26:[3,30], 27:[3,29], 28:[3,28], 29:[3,27], 30:[3,25], 1:[3,25], 2:[3,24], 3:[3,23], 4:[3,22], 5:[3,21], 6:[3,20], 7:[3,19], 8:[3,18], 9:[3,17], 10:[3,17], 11:[3,16], 12:[3,15], 13:[3,15], 14:[3,14], 15:[3,22], 16:[3,22], 17:[3,21], 18:[3,20], 19:[3,19], 20:[3,18], 21:[3,17], 22:[3,17], 23:[3,16]}

        var iftar_time = { 24:[18,35], 25:[18,36], 26:[18,37], 27:[18,37], 28:[18,38], 29:[18,39], 30:[18,39], 1:[18,40], 2:[18,41], 3:[18,41], 4:[18,42], 5:[18,43], 6:[18,43], 7:[18,44], 8:[18,44], 9:[18,45], 10:[18,46], 11:[18,46], 12:[18,47], 13:[18,47], 14:[18,42], 15:[18,42], 16:[18,42], 17:[18,43], 18:[18,43], 19:[18,44], 20:[18,45], 21:[18,45], 22:[18,46], 23:[18,47]}
        countDownDate = new Date();
        var dateNow = new Date();

        var fajrDate = new Date();
        fajrDate.setHours(fajr_time[countDownDate.getDate()][0]);
        fajrDate.setMinutes(fajr_time[countDownDate.getDate()][1]);
        fajrDate.setSeconds(0);
        // console.log("fajrDate",fajrDate);

        var maghrebDate = new Date();
        maghrebDate.setHours(iftar_time[countDownDate.getDate()][0]);
        maghrebDate.setMinutes(iftar_time[countDownDate.getDate()][1]);
        maghrebDate.setSeconds(0);
        // console.log("maghrebDate",maghrebDate);
      
        // console.log("dateNow ==> ", dateNow);
        // console.log("fajrDate ==> ", fajrDate);
        // console.log("maghrebDate ==> ", maghrebDate);
        if(dateNow < fajrDate){
          countDownDate = fajrDate;
          // console.log("Fajr");
          document.getElementById("prayer").innerHTML = "الفجر " + fajr_time[countDownDate.getDate()][0]+":"+("0" + fajr_time[countDownDate.getDate()][1]).slice(-2);
          x = setInterval(updatePrayerRemTime, 1000);
        }
        else if(dateNow >= fajrDate && dateNow <= maghrebDate){
          // console.log("dateNow", dateNow);
          // console.log("maghrebDate",maghrebDate)
          countDownDate = maghrebDate;
          document.getElementById("prayer").innerHTML = "المغرب " + iftar_time[countDownDate.getDate()][0]+":"+iftar_time[countDownDate.getDate()][1];
          // console.log("Maghreb");
          x = setInterval(updatePrayerRemTime, 1000);
        }
        else{
          // if(x){
          //   clearInterval(x);
          //   console.log(">>> Interval cleared...!")
          // }
          document.getElementById("ramadan").innerHTML = "صوما مقبولاً و إفطاراً شهياً";
        }
        // console.log(countDownDate);

        countDownDate = countDownDate.getTime();
      }

      function updatePrayerRemTime(){
        // Get todays date and time
        var now = new Date().getTime();

        // Find the distance between now an the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        // var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in the element with id="demo"
        if(distance>=0){
          document.getElementById("time2prayer").innerHTML = " باقي " + hours + ":"+ ("0" + minutes).slice(-2) + ":" + ("0" + seconds).slice(-2);
        }

        // If the count down is finished, write some text 
        if (distance <= 0) {
          clearInterval(x);
          console.log(">>> Interval cleared...!")
          setTimes();
        }
      }
    </script> -->
    <!-- Page JS -->

    <script>
        $(document).ready(function() {
            menuSelect($("li[class='nav-item-1-main']"));
            // $('head:first').append('<link rel="stylesheet" type="text/css" href="/bootstrap/css/datepicker3.min.css"/>');
            document.title = 'الرئيسية'

            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');
            var walkthrough = "";
            wt_delay = 2750;
            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] == "walkthrough") {
                    walkthrough = decodeURIComponent(sParameterName[1]);
                } else if (sParameterName[0] == "wtdel") {
                    wt_delay = decodeURIComponent(sParameterName[1])
                } else if (sParameterName[0] == "year") {
                    $("input[name=myYear]").val(decodeURIComponent(sParameterName[1]));
                } else if (sParameterName[0] == "month") {
                    $("input[name=myMonth]").val(decodeURIComponent(sParameterName[1]));
                }
            }
            if (walkthrough == "yes") {
                $("#select-all-tenants").trigger('click');
                var getname = $(".user-account").text().split(' ');
                setTimeout(function() {
                    swal({
                        title: 'أهلا أ/' + getname[0] + ' في حسبة!',
                        text: 'سنبدأ سويا دورة سريعة في حسبة..',
                        animation: false,
                        imageUrl: '/bootstrap/img/welcome-photo.jpg',
                        // type: 'question',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'إبدأ..',
                    }).then(
                        function(result) {
                            if (result.value) {
                                start_tour();
                            } else if (result.dismiss) {
                                window.location.replace(window.location.href.split("?")[0]);
                            }
                        }
                    )
                }, wt_delay);
            }
            if ($("#my_msg_t").val()) {
                swal({
                    type: $("#my_msg_t").val(),
                    title: $("#my_msg_title").val(),
                    text: $("#my_msg_c").val(),
                    confirmButtonText: "أغلق",
                    // timer: 5000,
                    // onOpen: function () {
                    //   // swal.showLoading()
                    // }
                })
            }
            if ($('#edate')[0].type != 'date') {
                var date_start = "1/1/" + $("input[name=myYear]").val();
                var date_end = "31/12/" + $("input[name=myYear]").val();

                $('#edate').datepicker({
                    format: "d/m/yyyy",
                    // startDate: date_start,
                    // endDate: date_end,
                    endDate: '0d',
                    maxViewMode: "days",
                    todayHighlight: true,
                    daysOfWeekHighlighted: '5,6',
                    autoclose: true,
                    // language: 'ar',
                    disableTouchKeyboard: true,
                    // showWeekDays: false
                });
                $('[data-toggle="tooltip"]').tooltip();

                $('.page-date-input').datepicker({
                    format: "m/yyyy",
                    startDate: "1/2012",
                    endDate: '0y',
                    startView: "months",
                    minViewMode: "months",
                    maxViewMode: "years",
                    autoclose: true,
                    language: 'ar',
                    orientation: 'auto',
                    beforeShowMonth: function(date) {
                        var today = new Date();
                        if (date.getMonth() == today.getMonth() && date.getFullYear() == today.getFullYear()) {
                            return {
                                classes: 'month-highlight'
                            };
                        }
                    },
                    // todayHighlight: true,
                    // todayBtn: true,
                    disableTouchKeyboard: true
                });
                // var mydate = "1/"+$("input[name=myMonth]").val()+"/"+$("input[name=myYear]").val()
                var today_date = new Date();
                $('.page-date-input').datepicker("setEndDate", new Date(today_date.getFullYear(), 11, 1));
                var getYear = $("input[name=myYear]").val();
                var getMonth = parseInt($("input[name=myMonth]").val()) - 1
                $('.page-date-input').datepicker("update", new Date(getYear, getMonth, 1));
            }

            // Calculate monthly total - Expenses & Collections tables
            for (var i = 1; i < 13; i++) {
                calcMonthExp(i);
                calcMonthCol(i);
            }

            // Calculate yearly total - Expenses table
            $("tr[name='exp-row']").each(function() {
                    calcYearExp($(this));
                })
                // Calculate yearly credits & Total - Collections table
            $("tr[name='col-row']").each(function() {
                    calcYearCol($(this));
                    calcCredits($(this));
                })
                // Calculate yearly Other Incomes - Collections table
            $("tr[name='oi-row']").each(function() {
                    calcYearCol($(this));
                })
                // Calculate total Expenses - single cell
            calcExpTotal();
            calcColTotal();

            // *****
            calcTotals();
            updateQuickDash();
            markFloors();
            // $("#TCOL").css("background-color", "red");
        })

        function start_tour() {
            var mytourscript = document.createElement('script');
            var mytour = document.createElement('script');
            // console.log("Loading tour...");
            $('head:first').append('<link rel="stylesheet" type="text/css" href="/bootstrap/tour/bootstrap-tour.min.css" />');
            $.getScript('/bootstrap/tour/bootstrap-tour.min.js', function() {
                $.getScript('/bootstrap/tour/my-tour.js', function() {});
                // console.log("tour loaded!");
            })
        }

        function markFloors() {
            var ufcount = $(".unit-floor").length;
            var ufloor, ufloor_next;
            for (var i = 0; i < ufcount - 1; i++) {
                ufloor = $(".unit-floor:eq(" + i + ")");
                ufloor_next = $(".unit-floor:eq(" + (i + 1) + ")");
                if (ufloor.text() != ufloor_next.text()) {
                    ufloor_next.addClass("ufloor-hanging-lbl");
                    ufloor.closest("tr").addClass("ufloor-border");
                    if (i != 0) {
                        ufloor_next.closest("tr").find("td:eq(1)").css("border-top", "unset");
                        ufloor_next.closest("tr").find("td:eq(2)").css("border-top", "unset");
                    }
                }
            }
        }

        function monNum2Text(mon) {
            if (mon == 1) return "يناير";
            else if (mon == 2) return "فبراير";
            else if (mon == 3) return "مارس";
            else if (mon == 4) return "إبريل";
            else if (mon == 5) return "مايو";
            else if (mon == 6) return "يونيو";
            else if (mon == 7) return "يوليو";
            else if (mon == 8) return "أغسطس";
            else if (mon == 9) return "سبتمبر";
            else if (mon == 10) return "أكتوبر";
            else if (mon == 11) return "نوفمبر";
            else if (mon == 12) return "ديسمبر";
            else return false;
        }

        function updateExpensesTable(cell) {
            var mon = cell.find('div').attr('name').replace('exp-', '');
            if (!mon || !$.isNumeric(mon)) {
                return;
            }
            mon = parseInt(mon);

            var row = cell.closest('tr');

            calcMonthExp(mon);
            calcExpTotal();
            calcYearExp(row);
            updateQuickDash();
        }

        function calcMonthExp(mon) {
            var sum = 0;
            $("div[name='exp-" + mon + "']").each(function() {
                    if ($.isNumeric($(this).text().replace(/,/g, ''))) {
                        sum += parseFloat($(this).text().replace(/,/g, ''))
                    }
                })
                // if(sum==0) sum =''
            $("td[name='monthly_exp_" + mon + "']").text(sum.toLocaleString("en-US"));
        }

        function calcYearExp(row) {
            var sum = 0;
            var val;
            var offset = 2;
            for (var i = 0; i <= 11; i++) {
                val = row.find("td:eq(" + (i + offset) + ")").text().trim().replace(/,/g, '');
                if ($.isNumeric(val)) {
                    sum += parseFloat(val);
                }
            }
            // if(sum==0) sum =''
            row.find("td:last").text(sum.toLocaleString("en-US"));
        }

        function calcExpTotal() {
            var sum = 0;
            $("td[name^='monthly_exp_']").each(function() {
                if ($.isNumeric($(this).text().replace(/,/g, ''))) {
                    sum += parseFloat($(this).text().replace(/,/g, ''))
                }
            })
            $("#exp_totals").text(sum.toLocaleString("en-US"));
        }

        function updateCollectionsTable(cell) {
            var mon = cell.find('div').attr('name').replace('col-', '').replace('due-prop-', '').replace('oi-', '');
            if (!mon || !$.isNumeric(mon)) {
                return;
            }
            var due_amount = cell.find('div[name^="dues"]').text();
            if (due_amount) {
                var col_amount = cell.find('div[name^="col"]').text();
                col_amount = parseFloat(col_amount);
                due_amount = parseFloat(due_amount);
                cell.removeClass('red-text green-text');
                if (col_amount > due_amount) {
                    cell.addClass('green-text');
                } else if (col_amount < due_amount) {
                    cell.addClass('red-text');
                }
            } else {
                cell.addClass('green-text');
            }
            mon = parseInt(mon);
            var row = cell.closest('tr');

            calcMonthCol(mon);
            calcColTotal();
            calcTotals();
            calcYearCol(row);
            calcCredits(row);
            updateQuickDash();
        }

        function calcMonthCol(mon) {
            var sum = 0;
            $("div[name='col-" + mon + "']").each(function() {
                if ($.isNumeric($(this).text().replace(/,/g, ''))) {
                    sum += parseFloat($(this).text().replace(/,/g, ''))
                }
            })
            $("div[name='oi-" + mon + "']").each(function() {
                    if ($.isNumeric($(this).text().replace(/,/g, ''))) {
                        sum += parseFloat($(this).text().replace(/,/g, ''))
                    }
                })
                // if(sum==0) sum =''
            $("td[name='monthly_col_" + (mon - 1) + "']").text(sum.toLocaleString("en-US"));
        }

        function calcYearCol(row) {
            var sum = 0;
            var val;
            var offset = 2;
            var dname;
            if (row.attr('name') == 'col-row') {
                dname = 'col';
                // var opening_balance = parseFloat(row.find("div[name='unit_opening_balance']").text().trim().replace(/,/g , ''));
                // if(opening_balance>0){
                //   sum += parseFloat(row.find("div[name='unit_opening_balance']").text().trim().replace(/,/g , ''));
                // }        
            } else if (row.attr('name') == 'oi-row') {
                dname = 'oi';
            }
            for (var i = 0; i <= 11; i++) {
                val = row.find("td:eq(" + (i + offset) + ")").find("div[name^='" + dname + "']").text().trim().replace(/,/g, '');
                if ($.isNumeric(val)) {
                    sum += parseFloat(val);
                }
            }

            if (sum <= 0) sum = ''

            if (dname == 'col') {
                row.find("td[name^='unit_year_collection_total']").text(sum.toLocaleString("en-US"));
            } else if (dname == 'oi') {
                row.find("td[name^='byoi_year_oi_total']").text(sum.toLocaleString("en-US"));
            }
            // row.find("td:nth-last-child(2)").text(sum.toLocaleString("en-US"));
        }

        function calcCredits(row) {
            if (row.attr('name') == 'oi-row') {
                return;
            }
            var sum = 0;
            var val, credit;
            var offset = 2;
            for (var i = 0; i <= 11; i++) {
                val = row.find("td:eq(" + (i + offset) + ")").find("div[name^='dues']").text().trim().replace(/,/g, '');
                if ($.isNumeric(val)) {
                    sum += parseFloat(val);
                }
                // console.log("calc credits:",i+offset, val, sum);
            }
            var total_unit_year_dues = sum * -1;
            if (sum == 0) sum = ''
            var col_total = row.find("td[name^='unit_year_collection_total']").text().trim().replace(/,/g, '');
            if (col_total == "") col_total = 0;
            if ($.isNumeric(col_total)) {
                col_total = parseFloat(col_total);
            }
            credit = col_total - sum;
            var opening_balance = parseFloat(row.find("div[name='unit_opening_balance']").text().trim().replace(/,/g, ''));
            credit += opening_balance;
            // if(opening_balance<0){
            //   credit += opening_balance;
            // }
            row.find("td:last").find(".credit_content").text(credit.toLocaleString("en-US"));
            var myDetails = '<div class="text-left" dir="ltr">' + col_total.toLocaleString("en-US") + ' : مجموع</div>';
            myDetails += '<div class="text-left" dir="ltr">' + total_unit_year_dues.toLocaleString("en-US") + ' : مديونيات</div>';
            myDetails += '<div class="text-left" dir="ltr">' + opening_balance.toLocaleString("en-US") + ' : رصيد سابق</div>';
            myDetails += '<div class="text-left" dir="ltr">----</div>';
            myDetails += '<div class="text-left" dir="ltr">' + credit.toLocaleString("en-US") + " : رصيد</div>";
            row.find("td:last").find(".credit_content").attr('data-original-title', myDetails);
            if (credit > 0) {
                row.find("td:last").removeClass('red-text');
                row.find("td:last").addClass('green-text');
            } else if (credit < 0) {
                row.find("td:last").addClass('red-text');
                row.find("td:last").removeClass('green-text');
            } else {
                row.find("td:last").removeClass('red-text');
                row.find("td:last").removeClass('green-text');
            }
        }

        function calcColTotal() {
            var sum = 0;
            $("td[name^='monthly_col_']").each(function() {
                if ($.isNumeric($(this).text().replace(/,/g, ''))) {
                    sum += parseFloat($(this).text().replace(/,/g, ''))
                }
            })
            $("#col_totals").text(sum.toLocaleString("en-US"));
        }

        function calcTotals() {
            var mon_col = 0;
            var from_last = 0;
            var exp = 0;
            var avail = 0;
            var total_money_in = 0;
            var today = new Date(); //new
            var year = parseInt($("input[name=myYear]").val());
            if (year < today.getFullYear()) {
                to_month = 12;
            } else {
                to_month = today.getMonth();
            }
            for (var i = 0; i <= to_month; i++) {
                mon_col = $("td[name=monthly_col_" + i + "]").text().trim();
                mon_col = mon_col.replace(/,/g, '');
                if (!mon_col || mon_col == "" || isNaN(mon_col)) {
                    mon_col = 0;
                }
                mon_col = parseFloat(mon_col);
                from_last = $("td[name=from_last_" + i + "]").text().trim();
                from_last = from_last.replace(/,/g, '');
                if (!from_last || from_last == "" || isNaN(from_last)) {
                    from_last = 0;
                }
                from_last = parseFloat(from_last);
                $("td[name=collected_total_" + i + "]").text((mon_col + from_last).toLocaleString("en-US"));
                if ((mon_col + from_last) < 0) {
                    $("td[name=collected_total_" + i + "]").addClass("red-text");
                } else {
                    $("td[name=collected_total_" + i + "]").removeClass("red-text");
                }
                // total_money_in += mon_col+from_last

                // ------

                exp = $("td[name='monthly_exp_" + (i + 1) + "']").text().trim();
                exp = exp.replace(/,/g, '');
                if (!exp || exp == "" || isNaN(exp)) {
                    exp = 0;
                }
                exp = parseFloat(exp);
                avail = mon_col + from_last + exp;
                $("td[name=avail_" + i + "]").text(avail.toLocaleString("en-US"));
                if (avail < 0) {
                    $("td[name=avail_" + i + "]").addClass("red-text");
                } else {
                    $("td[name=avail_" + i + "]").removeClass("red-text");
                }

                if (i < 11 && i < to_month) {
                    $("td[name=from_last_" + (i + 1) + "]").text(avail.toLocaleString("en-US"));
                    if (avail < 0) {
                        $("td[name=from_last_" + (i + 1) + "]").addClass("red-text");
                    } else {
                        $("td[name=from_last_" + (i + 1) + "]").removeClass("red-text");
                    }
                }
            }
            // $("td[name='collections_total_allyear'").text(total_money_in.toLocaleString("en-US"));
        }

        function updateQuickDash() {
            var month = $("input[name=myMonth]").val();
            month = parseInt(month) - 1;
            var sum = 0;

            // wared
            var new_wared = $("td[name='collected_total_" + month + "']").html().trim();
            $("#wared").html(new_wared == "" ? 0 : new_wared);
            var new_mora7al = $("td[name='from_last_" + month + "']").html().trim();
            $("#mora7al").html(new_mora7al == "" ? 0 : new_mora7al);
            var new_ta7seel = $("td[name='monthly_col_" + month + "']").html().trim();
            $("#ta7seel").html(new_ta7seel == "" ? 0 : new_ta7seel);

            // almota7
            var new_almota7 = $("td[name='avail_" + month + "']").html().trim();
            $("#almota7").html(new_almota7 == "" ? 0 : new_almota7);

            // mosaref
            month = month + 1;
            var new_monsaref = $("td[name='monthly_exp_" + month + "']").html().trim();
            // if ($.isNumeric(new_monsaref.replace(/,/g , ''))){
            //   new_monsaref = "-"+new_monsaref; // show as a -ve number
            // }
            $("#monsaref").html(new_monsaref == "" ? 0 : new_monsaref);

            // madyoneyat
            // madyoneyat this month
            var new_this_month_madyoneyat = 0;
            var unit_year_credit;
            var due, col, unit_debt_this_month, unit_credit;
            $("td[name='unit_year_credit']").each(function() {
                var tempUnitYearCredit = parseFloat($(this).text().trim().replace(/,/g, ''));
                if (tempUnitYearCredit < 0) {
                    // Are there any dues?
                    if ($(this).closest('tr').find("div[name='dues-" + month + "']").length > 0) {
                        due = 0;
                        col = 0;
                        unit_debt_this_month = 0;
                        // get the dues
                        due = parseFloat($(this).closest('tr').find("div[name='dues-" + month + "']").html().trim().replace(/,/g, ''));
                        // Are there any collections?
                        if ($(this).closest('tr').find("div[name='col-" + month + "']").length > 0) {
                            col = parseFloat($(this).closest('tr').find("div[name='col-" + month + "']").html().trim().replace(/,/g, ''));
                            unit_debt_this_month = (due - col) < 0 ? 0 : (due - col)
                        } else {
                            unit_debt_this_month = due;
                        }
                        unit_credit = parseFloat($(this).html().trim().replace(/,/g, '')) * -1;
                        unit_debt_this_month = unit_credit < unit_debt_this_month ? unit_credit : unit_debt_this_month;
                        new_this_month_madyoneyat += unit_debt_this_month;
                        // console.log("this month dues: ",new_this_month_madyoneyat, due, col, unit_debt_this_month);
                    }
                }
            })
            $("#madyoneyat").html(new_this_month_madyoneyat == "" ? 0 : new_this_month_madyoneyat.toLocaleString("en-US"));

            // madyoneyat this year
            var new_this_year_madyoneyat = 0;
            var credit;
            $("td[name='unit_year_credit']").each(function() {
                credit = $(this).text();
                if ($.isNumeric(credit.replace(/,/g, ''))) {
                    credit = credit.replace(/,/g, '')
                    if (credit < 0) {
                        new_this_year_madyoneyat += parseFloat(credit);
                    }
                }
            })
            new_this_year_madyoneyat *= -1;
            $("#dues_this_year").html(new_this_year_madyoneyat == "" ? 0 : new_this_year_madyoneyat.toLocaleString("en-US"));

            // madyoneyat past months
            var past_months_credit = 0;
            $('#dues_past_months').html((new_this_year_madyoneyat - new_this_month_madyoneyat).toLocaleString("en-US"));
        }

        $(".page-date-input").on("changeDate", function(e) {
            // console.log(e.format("m/yyyy"), "<<< Change");
            window.location.href = "/admin-dashboard?year=" + e.format("yyyy") + "&month=" + e.format("m");
        })

        var edit_flag = false;
        $('#newExpCat').on('hidden.bs.modal', function(e) {
            $("input[name=f]").val("addexp");
            $("input[name=expcd]").val("");
            $("input[name=k]").val("");
            $("input[name=ref]").val("");
            $("h4#myModalLabel").html("");
            $(".operation").removeClass("fa-star fa-pencil pink-text green-text success-text");
            $(".add-modal-subtitle").html("");
            $(".add-modal-subtitle").removeClass("green-text red-text success-text gray-text");
            $("#confirmNewExp").html("أضف المصروف الجديد");
            $("#enotes").attr("placeholder", "ملاحظات/تفاصيل أخرى");
            $(".modal-header").removeClass("bg-danger bg-success bg-dark-green");
            $("#selectctype").children("option").remove();
            $("#selectctype").append('<option value="">(إختر)</option>');
            // $("#selectctype").closest(".form-group").removeClass("hidden");
            // $("#selectcat").closest(".form-group").removeClass("hidden");
            $("#exp-div-section").closest(".form-group").removeClass("hidden");
            $("#selectcat").attr('required', 'required');
            $("#selectctype").attr('required', 'required');
            // $("#exp-div").attr('required', 'required');
            $("#DeleteEntry").addClass("hidden");
            $("#DeleteEntry").removeClass("col-modal exp-modal oi-modal bulk-del-col-modal");
            $("input[name=exp-div]").prop("disabled", "");
            $("#unit_debt").addClass("hidden")
            $("#formnewexpense")[0].reset();
            $(".edit-modal-footer").addClass("hidden");
            $(".last-change-user").addClass("hidden");
            $(".last-change-date").html("");
            $(".last-change-user").html("");
        });
        $('#newExpCat').on('shown.bs.modal', function(e) {
            $("input[name=eamount]").focus();
            if (edit_flag == true) {
                $("#edate").prop("readonly", "readonly");
                edit_flag = false;
            } else {
                $("#edate").prop("readonly", "");
            }
        })

        $('#showHideExp').on('hidden.bs.modal', function(e) {
            $("[name='show-cat-type']").addClass("hidden");
            $("[name='show-cat']").removeClass('active');
        })

        $('#newOImodal').on('hidden.bs.modal', function(e) {
                $("[name='btn-oi-cat']").removeClass('active');
                $("#newOImodal .section2>div").addClass("hidden");
            })
            // ---------------
        var swipe = false;
        $(document).on('touchstart', ".exp-td-add, div[name^=exp]", function(e) {
            swipe = false;
            // console.log("touch start");
        })
        $(document).on('touchmove', ".exp-td-add, div[name^=exp]", function(e) {
            swipe = true;
            // console.log("touch MOVE");
        })
        $(document).on('touchstart', ".col-td-add, div[name^=col]", function(e) {
            swipe = false;
            // console.log("touch start");
        })
        $(document).on('touchmove', ".col-td-add, div[name^=col]", function(e) {
            swipe = true;
            // console.log("touch MOVE");
        })
        $(document).on('touchstart', ".oi-td-add, div[name^=oi]", function(e) {
            swipe = false;
            // console.log("touch start");
        })
        $(document).on('touchmove', ".oi-td-add, div[name^=oil]", function(e) {
                swipe = true;
                // console.log("touch MOVE");
            })
            // $(document).on('change',"#selectcat", function(){
        $("#selectcat").change(function() {
            var c = $(this).val()
            $.ajax({
                    url: '/getcats',
                    type: 'POST',
                    data: {
                        'ctdata': c
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        $("#selectctype").children("option").remove();
                        $("#selectctype").append('<option value="">(إختر)</option>');
                        for (i = 0; i < (data["data"].length); i++) {
                            $("#selectctype").append("<option data-ky='" + data["data2"][i] + "' value='" + data["data"][i] + "'>" + data["data"][i] + "</option>")
                        }
                    } else {
                        $("#selectctype").children("option").remove();
                        $("#selectctype").append('<option value="">(إختر)</option>');
                        console.log("request failed! error code: NE-DF0x165")
                    }
                })
                .fail(function(data) {
                    console.log("request failed! error code: NE-RF0x167", data)
                })
        })
        $("#selectctype").change(function() {
            $("input[name=k]").val($(this).find("option:selected").data('ky'))
            $("input[name=ref]").val("true")
        })
        $("#OIcatSelection").change(function() {
            $("#OInameInput").val($("#OIcatSelection").val());
        })

        // --------------

        function mySearch() {
            // Declare variables
            var input, filter, table, tr, td_owner, td_tenant, i;
            filter = $("#myCsearchInput").val().toUpperCase();
            // Loop through all table rows, and hide those who don't match the search query
            $("#TableCollections").find("tr").each(function() {
                td_tenant = $(this).find(".tenantName .name_text").text();
                td_unitnum = $(this).find(".lbl-unit-num .unum_text").text();
                if (td_unitnum || td_tenant) {
                    if (td_tenant.toUpperCase().indexOf(filter) > -1 || td_unitnum.toUpperCase().indexOf(filter) > -1) {
                        $(this).show();
                    } else {
                        $(this).hide();
                    }
                }
            })
        }
        $(document).on("click", ".ico-del", function() {
            $("#myCsearchInput").val("");
            mySearch();
            $("#myCsearchInput").focus();
        })

        // --------------
        var cControl = null;
        // --------------
        // EDIT Expense
        $(document).on('click touchend', "div[name^=exp]", function() {
                if (swipe) {
                    return;
                }
                if ($(this).text() == "" || $(this).text() == "-") {
                    return;
                }
                var month = $(this).attr("name").replace('exp-', '');
                var myexpcat = $(this).closest("tr").find("td:first").data("ky");
                var year = $("input[name=myYear]").val();
                var mycat = $(this).closest("tr").find("td:first div").html();
                myCatIcon = mycat.substr(mycat.indexOf("<span"));
                myCatIcon = myCatIcon.replace("pull-right", '');
                mycat = mycat.substr(0, mycat.indexOf("<span"));
                var myctype = $(this).closest("tr").find("td:nth-child(2) div.name_text").html();
                data = jQuery.param({
                    'f': 'getexps',
                    'myexpcat': myexpcat,
                    'month': month,
                    'year': year
                })
                $("h4#myModalLabel").html("تعديل مصروف" + " - " + monNum2Text(month));
                $(".add-modal-subtitle").addClass("red-text");
                $(".add-modal-subtitle").html(myCatIcon + " " + mycat + " - " + myctype);
                $(".operation").addClass("fa-pencil pink-text");
                $("#confirmNewExp").html("تأكيد تعديل المصروف");
                $(".modal-header").addClass("bg-danger");
                $("#DeleteEntry").addClass("exp-modal");
                $("#DeleteEntry").removeClass("hidden");
                cControl = $(this);

                $.ajax({
                        url: '/admin-dashboard',
                        type: 'POST',
                        data: {
                            'myData': data
                        },
                        datatype: 'json',
                    })
                    .done(function(data) {
                        if (data['status'] == "success") {
                            $("input[name=f]").val("editexp");
                            $("#selectcat").val(data['cat']);
                            // $("#selectcat").closest(".form-group").addClass("hidden");

                            $("#selectctype").children("option").remove();
                            $("#selectctype").append('<option value="">(إختر)</option>');
                            $.each(data["cat_types"], function(i, v) {
                                $("#selectctype").append("<option data-ky='" + v + "' value='" + i + "'>" + i + "</option>")
                            })
                            $("#selectctype").val(data['type']);
                            // $("#selectctype").closest(".form-group").addClass("hidden");

                            $("input[name=expcd]").val(data['expcd']);
                            $("input[name=k]").val(data['k']);
                            $("input[name=eamount]").val(data['amt']);

                            var tempDate = $.datepicker.parseDate('d/m/yy', data['date']);
                            var startDate = "1/" + (tempDate.getMonth() + 1) + "/" + tempDate.getFullYear();
                            $('#edate').datepicker("setStartDate", startDate);
                            var last_day_of_month = new Date(tempDate.getFullYear(), (tempDate.getMonth() + 1), 0).getDate();
                            $('#edate').datepicker("setEndDate", last_day_of_month + "/" + (tempDate.getMonth() + 1) + "/" + tempDate.getFullYear());
                            // $("#edate").datepicker("destroy");
                            // edit_flag=true;
                            $("#edate").val(data['date']);
                            $('#edate').datepicker("setDate", data['date']);
                            // $('#edate').datepicker("setDate", data['date']);
                            // $("#edate").datepicker("destroy");
                            // edit_flag=true;
                            $("#enotes").val(data['notes']);
                            $(".edit-modal-footer").removeClass("hidden");
                            $(".last-change-date").text(data['log_date']);
                            if (data['log_email']) {
                                $(".last-change-user").removeClass("hidden");
                                $(".last-change-user").html(data['log_name'] + " " + data['log_email']);
                            }
                            $(".edit-modal-footer").tooltip().attr('data-original-title', $(".edit-modal-footer").text().trim());

                            var exp_type = data["div"]
                            if (exp_type == "n") {
                                exp_type = "normal"
                            } else if (exp_type == "x") {
                                exp_type = "exceptional"
                                $("#confirmNewExp").html("إلى خطوة ٢، تخصيص النسب");
                            }
                            $("input[name=exp-div]").prop("disabled", "disabled");
                            $("input[name=exp-div][value=" + exp_type + "]").prop('checked', 'checked');

                            $('#newExpCat').modal('show');
                        } else {
                            swal({
                                title: 'نأسف!',
                                text: data["message"],
                                type: 'error',
                                animation: false,
                                confirmButtonColor: '#3085d6',
                                confirmButtonText: 'إغلاق',
                            })
                            console.log("request failed! error code: GE-DB0x120")
                        }
                    })
                    .fail(function(data) {
                        console.log("request failed! error code: GE-DB0x127")
                    })
            })
            // ADD NEW Expense
        $(document).on('click touchend', ".exp-td-add", function(e) {
                // scroll on phone
                if (swipe) {
                    // console.log("swipte detected!");
                    return;
                }

                var month = $(this).find('div').attr("name").replace('exp-', '');
                var myexpcatid = $(this).closest("tr").find("td:first").data("ky");
                var mycat = $(this).closest("tr").find("td:first div").html();
                myCatIcon = mycat.substr(mycat.indexOf("<span"));
                myCatIcon = myCatIcon.replace("pull-right", '');
                mycat = mycat.substr(0, mycat.indexOf("<span"));
                var myctype = $(this).closest("tr").find("td:nth-child(2) div.name_text").html();
                var year = $("input[name=myYear]").val();
                var mydate = "1/" + month + "/" + year;
                var today_date = new Date();
                if (month == (today_date.getMonth()) + 1) {
                    mydate = today_date.getDate() + "/" + month + "/" + year;
                }
                $("h4#myModalLabel").html("إضافة مصروف جديد" + " - " + monNum2Text(month));
                $(".add-modal-subtitle").addClass("red-text");
                $(".add-modal-subtitle").html(myCatIcon + " " + mycat + " - " + myctype);
                $(".operation").addClass("fa-star pink-text");
                var last_day_of_month = new Date(year, month, 0).getDate();
                $('#edate').datepicker("setStartDate", "1/" + month + "/" + year);
                $('#edate').datepicker("setEndDate", last_day_of_month + "/" + month + "/" + year);
                $('#edate').datepicker("setDate", mydate);
                $(".modal-header").addClass("bg-danger");
                $("#selectcat").val(mycat);

                // $("#selectcat").trigger("change");
                // $("#selectctype").val(myctype);
                var c = mycat;
                $.ajax({
                        url: '/getcats',
                        type: 'POST',
                        data: {
                            'ctdata': c
                        },
                        datatype: 'json',
                    })
                    .done(function(data) {
                        if (data['status'] == "success") {
                            $("#selectctype").children("option").remove();
                            $("#selectctype").append('<option value="">(إختر)</option>');
                            for (i = 0; i < (data["data"].length); i++) {
                                $("#selectctype").append("<option data-ky='" + data["data2"][i] + "' value='" + data["data"][i] + "'>" + data["data"][i] + "</option>")
                            }
                            $("#selectctype").val(myctype);
                            $("#selectctype").trigger("change");
                            // $("#selectctype").closest(".form-group").addClass("hidden");
                            // $("#selectcat").closest(".form-group").addClass("hidden");
                        } else {
                            $("#selectctype").children("option").remove();
                            $("#selectctype").append('<option value="">(إختر)</option>');
                            console.log("request failed! error code: NE-DF0x165")
                        }
                    })
                    .fail(function(data) {
                        console.log("request failed! error code: NE-RF0x163", data);
                        window.location.reload();
                    })

                $("#edate").val(mydate);
                cControl = $(this);
                // console.log('static false');
                $('#newExpCat').modal('show');
                // $('#btn-close-modal').prop("disabled", true);
                // $('#newExpCat').modal({backdrop: 'static', keyboard: false});
                $("input[name=eamount]").focus();
            })
            // DELETE Expense
        $(document).on('click', ".exp-modal", function(event) {
                event.preventDefault();

                swal({
                        title: 'هل أنت متأكد من حذف هذا المصروف؟',
                        text: "لن يمكنك الرجوع في ذلك، و لكن يمكنك إضافته مرة أخرى!",
                        type: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#aaa',
                        confirmButtonText: 'نعم، إحذف المصروف!',
                        cancelButtonText: 'إلغاء',
                        animation: false,
                        // confirmButtonClass: 'btn btn-success',
                        // cancelButtonClass: 'btn btn-danger',
                        // buttonsStyling: false
                    })
                    .then(
                        function(result) {
                            if (result.value) {
                                $("input[name=f]").val("delexp");
                                $("#formnewexpense").submit();
                            } else if (result.dismiss == swal.DismissReason.cancel) {
                                event.preventDefault();
                            }
                        }
                    )
            })
            // Add month expenses
        $(document).on('change', "input[name^=exp-amount]", function() {
                amt = $(this).val();
                if (amt <= 0) {
                    $(this).val("");
                    return;
                }
                k = $(this).closest("tr").find("td:first").data('ky');
                var myControl = $(this);
                var month = $("input[name=myMonth]").val();
                var year = $("input[name=myYear]").val();
                var mydate = "1/" + month + "/" + year
                var expdiv = $("input[name='exp-div']").val();
                data = jQuery.param({
                    'f': 'addexp',
                    'eamount': amt,
                    'k': k,
                    'exp-div': expdiv,
                    'edate': mydate
                })
                $.ajax({
                        url: '/admin-dashboard',
                        type: 'POST',
                        data: {
                            'myData': data,
                        },
                        datatype: 'json',
                    })
                    .done(function(data) {
                        if (data['status'] == "success") {
                            // console.log("amount "+amt+" saved.");
                            // // Update Year total expenses for that expense
                            // var year_total_html = myControl.closest("tr").find("td:last");
                            // var year_total_value = year_total_html.html().replace(',' , '');
                            // year_total_value = parseFloat(year_total_value);
                            // year_total_value += parseFloat(amt);
                            // year_total_html.html(year_total_value.toLocaleString("en-US"));
                            //
                            // // Update monthly expenses for that month
                            // var month_total_html = myControl.closest("tbody").find("tr:last").find("td[name=monthly_exp_"+(month)+"]");
                            // var month_total_value = month_total_html.html().replace(',' , '');
                            // month_total_value = parseFloat(month_total_value);
                            // if(!month_total_value)
                            //   month_total_value = 0
                            // month_total_value += parseFloat(amt);
                            // month_total_html.html(month_total_value.toLocaleString("en-US"));
                            //
                            // // Update year total in expenses table
                            // var num = $("#exp_totals").html().replace(',' , '')
                            // var num_total_expenses = parseFloat(num) + parseFloat(amt)
                            // $("#exp_totals").html(num_total_expenses.toLocaleString("en-US"))
                            //
                            // // Update this month expenses in dashboard
                            // var num = $("#monsaref").html().replace(',' , '')
                            // if(!$.isNumeric(num))
                            //   num=0;
                            // var num_monsaref = parseFloat(num) + parseFloat(amt)
                            // $("#monsaref").html(num_monsaref.toLocaleString("en-US"))
                            //
                            // //update this month available in dashboard
                            // var num = $("#almota7").html().replace(',' , '')
                            // if(!$.isNumeric(num))
                            //   num=0;
                            // var num_mota7 = parseFloat(num) - parseFloat(amt)
                            // $("#almota7").html(num_mota7.toLocaleString("en-US"))

                            // remove input textbox
                            var myTD = myControl.closest("td");
                            var myContName = myControl.attr("name")
                            console.log(myContName);
                            myContMon = myContName.replace('exp-amount-', '')
                            console.log(myContMon);

                            myTD.html("");
                            myTD.html("<div name='exp-" + myContMon + "' data-toggle='tooltip' title=''>" + amt + "</div>");
                            updateExpensesTable(myTD);
                            calcTotals();
                            updateQuickDash();
                        } else {
                            alert("saving failed! error code: SV-DF0x105");
                        }
                    })
                    .fail(function(data) {
                        console.log("request failed! error code: NE-RF0x907")
                    })
            })
            // Handle ENTER KEY
        $(document).on("keypress", "input[name^=exp-amount]", function(event) {
            if (event.keyCode == 13) {
                // event.preventDefault();
                var index = $('.exp-input').index(this) + 1;
                $('.exp-input').eq(index).focus();
            }
        });

        // ---------------

        // EDIT Collection
        $(document).on('click touchend', "div[name^=col]", function() {
                if (swipe) {
                    return;
                }
                if ($(this).text() == "" || $(this).text() == "-") {
                    return;
                }
                var month = $(this).attr("name").replace('col-', '');
                var uid = $(this).closest("tr").find("td:eq(1)").data("ky");
                var year = $("input[name=myYear]").val();
                var mytenantname = $(this).closest("tr").find("td:eq(1)").html();

                data = jQuery.param({
                    'f': 'getcols',
                    'uid': uid,
                    'month': month,
                    'year': year
                })
                cControl = $(this);

                var myDiv = $(this);
                // $("#selectcat").closest(".form-group").addClass("hidden");
                // $("#selectctype").closest(".form-group").addClass("hidden");
                $("#exp-div-section").closest(".form-group").addClass("hidden");

                $("#selectcat").removeAttr('required');
                $("#selectctype").removeAttr('required');
                // $("#exp-div").removeAttr('required');

                $("h4#myModalLabel").html("تعديل إيراد" + " - " + monNum2Text(month));
                // $(".add-modal-subtitle").removeClass("red-text");
                $(".add-modal-subtitle").addClass("green-text");
                $(".add-modal-subtitle").html(mytenantname);
                $(".operation").addClass("fa-pencil green-text");
                $("#confirmNewExp").html("تأكيد تعديل إيراد");
                $(".modal-header").addClass("bg-success");
                $("#DeleteEntry").addClass("col-modal");
                $("#DeleteEntry").removeClass("hidden");

                $.ajax({
                        url: '/admin-dashboard',
                        type: 'POST',
                        data: {
                            'myData': data,
                        },
                        datatype: 'json',
                    })
                    .done(function(data) {
                        if (data['status'] == "success") {
                            $("input[name=f]").val("editcol");

                            $("input[name=expcd]").val(data['expcd']);
                            $("input[name=k]").val(data['k']);
                            $("input[name=eamount]").val(data['amt']);

                            var tempDate = $.datepicker.parseDate('d/m/yy', data['date']);
                            var startDate = "1/" + (tempDate.getMonth() + 1) + "/" + tempDate.getFullYear();
                            $('#edate').datepicker("setStartDate", startDate);
                            var last_day_of_month = new Date(tempDate.getFullYear(), (tempDate.getMonth() + 1), 0).getDate();
                            $('#edate').datepicker("setEndDate", last_day_of_month + "/" + (tempDate.getMonth() + 1) + "/" + tempDate.getFullYear());
                            // $("#edate").datepicker("destroy");
                            // edit_flag=true;
                            $("#edate").val(data['date']);
                            $('#edate').datepicker("setDate", data['date']);
                            $("#enotes").val(data['notes']);
                            $(".edit-modal-footer").removeClass("hidden");
                            $(".last-change-date").text(data['log_date']);
                            if (data['log_email']) {
                                $(".last-change-user").removeClass("hidden");
                                $(".last-change-user").html(data['log_name'] + " " + data['log_email']);
                            }
                            $(".edit-modal-footer").tooltip().attr('data-original-title', $(".edit-modal-footer").text().trim());

                            var debt = myDiv.data('debt');
                            if (typeof(debt) == "undefined") {
                                debt = 0
                            }
                            $("#unit_debt label").html("(مديونية : " + debt + ")");
                            $("#unit_debt").removeClass("hidden");
                            $('#newExpCat').modal('show');
                        } else {
                            console.log("request failed! error code: GC-DB0x920")
                            swal({
                                title: 'خطأ!',
                                text: 'حدث خطأ ما: ' + data['message'] + " GC-DB0x920",
                                type: 'error',
                            })
                        }
                    })
                    .fail(function(data) {
                        console.log("request failed! error code: GC-DB0x927")
                    })

            })
            // ADD NEW Collection
        $(document).on('click touchend', ".col-td-add", function() {
                if (swipe) {
                    console.log("swipte detected!");
                    return;
                }
                var month = $(this).find('div').attr("name").replace('col-', '').replace('due-prop-', '');
                var mytenantid = $(this).closest("tr").find("td:eq(1)").data("ky");
                var mytenantname = $(this).closest("tr").find("td:eq(1)").html();
                var year = $("input[name=myYear]").val();
                var mydate = "1/" + month + "/" + year;
                var today_date = new Date();
                if (month == (today_date.getMonth()) + 1) {
                    mydate = today_date.getDate() + "/" + month + "/" + year;
                }

                var last_day_of_month = new Date(year, month, 0).getDate();
                $('#edate').datepicker("setStartDate", "1/" + month + "/" + year);
                $('#edate').datepicker("setEndDate", last_day_of_month + "/" + month + "/" + year);
                $('#edate').datepicker("setDate", mydate);

                // $("#selectcat").closest(".form-group").addClass("hidden");
                // $("#selectctype").closest(".form-group").addClass("hidden");
                $("#exp-div-section").closest(".form-group").addClass("hidden");

                $("h4#myModalLabel").html("إضافة إيراد" + " - " + monNum2Text(month));
                $(".add-modal-subtitle").addClass("green-text");
                $(".add-modal-subtitle").html(mytenantname);
                $(".operation").addClass("fa-star green-text");
                $("#edate").val(mydate);
                $("input[name=f]").val("addcol");
                $("input[name=ref]").val("true");
                $("input[name=k]").val(mytenantid);
                $("#enotes").attr("placeholder", "استلمت من, تحت حساب...");
                $("#confirmNewExp").html("أضف الإيراد");
                $(".modal-header").addClass("bg-success");

                $("#selectcat").removeAttr('required');
                $("#selectctype").removeAttr('required');
                // $("#exp-div").removeAttr('required');

                // if($(this).children("div[name^=due-prop]").length){
                var debt = $(this).children("div[name^=due-prop]").data('debt');
                if (typeof(debt) == "undefined") {
                    debt = 0
                }
                $("#unit_debt label").html("(مديونية : " + debt + ")");
                $("#unit_debt").removeClass("hidden");
                // }

                cControl = $(this);

                $('#newExpCat').modal('show');
                $("input[name=eamount]").focus();
            })
            // DELETE Collection
        $(document).on('click', ".col-modal", function(event) {
                event.preventDefault();

                swal({
                        title: 'هل أنت متأكد من حذف هذا الإيراد؟',
                        text: "لن يمكنك الرجوع في ذلك، و لكن يمكنك إضافته مرة أخرى!",
                        type: 'warning',
                        showCancelButton: true,
                        animation: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#aaa',
                        confirmButtonText: 'نعم، إحذف الإيراد!',
                        cancelButtonText: 'إلغاء'
                    })
                    .then(
                        function(result) {
                            if (result.value) {
                                $("input[name=f]").val("delcol");
                                $("#formnewexpense").submit();
                            } else if (result.dismiss == swal.DismissReason.cancel) {
                                event.preventDefault();
                            }
                        }
                    )
            })
            // BULK DELETE Collection
        $(document).on('click', ".bulk-del-col-modal", function(event) {
                event.preventDefault();

                swal({
                        title: 'هل أنت متأكد من حذف إيرادات هذا الشهر للوحدات المختارة؟',
                        text: "لن يمكنك الرجوع في ذلك، و لكن يمكنك إضافتهم مرة أخرى!",
                        type: 'warning',
                        showCancelButton: true,
                        animation: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#aaa',
                        confirmButtonText: 'نعم، إحذف!',
                        cancelButtonText: 'إلغاء'
                    })
                    .then(
                        function(result) {
                            if (result.value) {
                                $("input[name=f]").val("bulkdelcol");
                                $("#formnewexpense").submit();
                            } else if (result.dismiss == swal.DismissReason.cancel) {
                                event.preventDefault();
                            }
                        }
                    )
            })
            // Add month Collections
        $(document).on('change', "input[name^=col-amount]", function() {
                amt = $(this).val();
                if (amt <= 0) {
                    $(this).val("");
                    return;
                }
                k = $(this).closest("tr").find("td:eq(1)").data('ky');
                myControl = $(this);
                month = $("input[name=myMonth]").val();
                year = $("input[name=myYear]").val();
                var mydate = "1/" + month + "/" + year
                data = jQuery.param({
                    'f': 'addcol',
                    'eamount': amt,
                    'k': k,
                    'edate': mydate
                })
                $.ajax({
                        url: '/admin-dashboard',
                        type: 'POST',
                        data: {
                            'myData': data,
                        },
                        datatype: 'json',
                    })
                    .done(function(data) {
                        if (data['status'] == "success") {
                            // console.log("amount "+amt+" saved.");
                            // // Update Year total collections for that collection
                            // var year_total_html = myControl.closest("tr").find("td:last").prev();
                            // var year_total_value = year_total_html.html().replace(',' , '');
                            // year_total_value = parseFloat(year_total_value);
                            // year_total_value += parseFloat(amt);
                            // year_total_html.html(year_total_value.toLocaleString("en-US"));
                            //
                            // // Update monthly collections for that month
                            // var month_total_html = myControl.closest("tbody").find("tr[name='collections_total']").find("td[name=monthly_col_"+(month-1)+"]");
                            // var month_total_value = month_total_html.html().replace(',' , '');
                            // month_total_value = parseFloat(month_total_value);
                            // if(!month_total_value)
                            //   month_total_value = 0
                            // month_total_value += parseFloat(amt);
                            // month_total_html.html(month_total_value.toLocaleString("en-US"));
                            //
                            // // Update year total in collections table
                            // var num_ta7seel = $("#col_totals").html().replace(',' , '')
                            // var num_wared = $("#wared").html().replace(',' , '')
                            // var new_ta7seel = parseFloat(num_ta7seel) + parseFloat(amt);
                            // var new_wared = parseFloat(num_wared) + parseFloat(amt);
                            // $("#col_totals").html(new_ta7seel.toLocaleString("en-US"))
                            //
                            // // Update year total in top dashboard
                            // $("#ta7seel").html(new_ta7seel.toLocaleString("en-US"))
                            // $("#wared").html(new_wared.toLocaleString("en-US"))
                            //
                            // // Update this month mota7 in top dashboard
                            // var num_mota7 = $("#almota7").html().replace(',' , '')
                            // new_mota7 = parseFloat(num_mota7) + parseFloat(amt)
                            // $("#almota7").html(new_mota7.toLocaleString("en-US"))
                            //
                            // //update this month dues in dashboard
                            // var my_dues_html = myControl.closest("tr").find("td:first").next();
                            // var my_dues = my_dues_html.html().replace(',' , '');
                            // my_dues = parseFloat(my_dues);
                            // if (!$.isNumeric(my_dues))
                            //   my_dues = 0
                            // var total_dues = $("#madyoneyat").html().replace(',' , '');
                            // total_dues = parseFloat(total_dues);
                            // console.log("total_dues = ", total_dues);
                            // if (!$.isNumeric(total_dues))
                            //   total_dues = 0
                            // var new_total_dues;
                            // console.log(amt);
                            // console.log(my_dues);
                            // if (amt >= my_dues){
                            //   new_total_dues = total_dues - my_dues;
                            // }
                            // else{
                            //   new_total_dues = total_dues - amt;
                            // }
                            // console.log("new_total_dues = ", new_total_dues);
                            // $("#madyoneyat").html(new_total_dues.toLocaleString("en-US"));
                            //
                            // // remove input textbox
                            var myTD = myControl.closest("td");
                            var myContName = myControl.attr("name")
                            myContMon = myContName.replace('col-amount-', '')

                            myTD.find("input").remove();
                            myTD.prepend("<div name='col-" + myContMon + "' data-toggle='tooltip' title=''>" + amt + "</div>");
                            updateCollectionsTable(myTD);

                        } else {
                            alert("saving failed! error code: MC-DF0x765");
                        }
                    })
                    .fail(function(data) {
                        console.log("request failed! error code: MC-RF0x767")
                    })
            })
            // Handle ENTER KEY
        $(document).on("keypress", "input[name^=col-amount]", function(event) {
            if (event.keyCode == 13) {
                // event.preventDefault();
                var index = $('.col-input').index(this) + 1;
                $('.col-input').eq(index).focus();
            }
        });
        // Add BULK Collections
        $(document).on('click', "a.bulk-add-col", function() {
                var month = $(this).prop("name");
                var mon_name = $(this).closest('th').text()

                var year = $("input[name=myYear]").val();

                var mydate = "1/" + month + "/" + year;
                var today_date = new Date();
                if (month == (today_date.getMonth()) + 1) {
                    mydate = today_date.getDate() + "/" + month + "/" + year;
                }

                var last_day_of_month = new Date(year, month, 0).getDate();
                $('#edate').datepicker("setStartDate", "1/" + month + "/" + year);
                $('#edate').datepicker("setEndDate", last_day_of_month + "/" + month + "/" + year);
                $('#edate').datepicker("setDate", mydate);

                var count_selected = $("input.selected-units:checked").length;

                var us = [];
                $("input.selected-units:checked").each(function() {
                    us.push($(this).closest('tr').find('td:eq(1)').data('ky'));
                })
                $("#exp-div-section").closest(".form-group").addClass("hidden");

                $("h4#myModalLabel").html("إضافة إيراد جماعي - " + mon_name + "<div>" + "لعدد " + count_selected + " شاغلين" + "</div>");
                $("#edate").val(mydate);
                $("input[name=f]").val("addbulkcol");
                $("input[name=ref]").val("true");
                $("input[name=k]").val(us);
                $("#enotes").attr("placeholder", "استلمت من, تحت حساب...");
                $("#confirmNewExp").html("أضف الإيراد");
                $("#DeleteEntry").removeClass("col-modal").removeClass("exp-modal").addClass("bulk-del-col-modal");
                $("#DeleteEntry").removeClass("hidden");

                $("#selectcat").removeAttr('required');
                $("#selectctype").removeAttr('required');

                $('#newExpCat').modal('show');
                $("input[name=eamount]").focus();
            })
            // ------
            // ADD NEW OI
        $(document).on('click touchend', ".oi-td-add", function() {
                if (swipe) {
                    return;
                }
                var month = $(this).find('div').attr("name").replace('oi-', '');
                var myoiid = $(this).closest("tr").find("td:eq(1) div").data("ky");
                var myoiname = $(this).closest("tr").find("td:eq(1)").text().trim();
                // var myoitype = $(this).closest("tr").find("td:eq(0)").html().replace(/pull-right/g,"").replace("oi-row-catnicon", "");
                var myoitype = $(this).closest("tr").find("td:eq(0)").find("div").html().replace(/pull-right/g, "");
                var year = $("input[name=myYear]").val();
                var mydate = "1/" + month + "/" + year;
                var today_date = new Date();
                if (month == (today_date.getMonth()) + 1) {
                    mydate = today_date.getDate() + "/" + month + "/" + year;
                }

                var last_day_of_month = new Date(year, month, 0).getDate();
                $('#edate').datepicker("setStartDate", "1/" + month + "/" + year);
                $('#edate').datepicker("setEndDate", last_day_of_month + "/" + month + "/" + year);
                $('#edate').datepicker("setDate", mydate);

                // $("#selectcat").closest(".form-group").addClass("hidden");
                // $("#selectctype").closest(".form-group").addClass("hidden");
                $("#exp-div-section").closest(".form-group").addClass("hidden");

                $("h4#myModalLabel").html("إضافة إيراد" + " - " + monNum2Text(month));
                $(".add-modal-subtitle").addClass("gray-text");
                $(".add-modal-subtitle").html(myoitype + " - " + myoiname);
                $(".operation").addClass("fa-star success-text");
                $("#edate").val(mydate);
                $("input[name=f]").val("addoi");
                $("input[name=ref]").val("true");
                $("input[name=k]").val(myoiid);
                $("#enotes").attr("placeholder", "استلمت من, تحت حساب...");
                $("#confirmNewExp").html("أضف الإيراد");
                $(".modal-header").addClass("bg-dark-green");

                $("#selectcat").removeAttr('required');
                $("#selectctype").removeAttr('required');

                cControl = $(this);

                $('#newExpCat').modal('show');
                $("input[name=eamount]").focus();
            })
            // EDIT OI
        $(document).on('click touchend', "div[name^=oi]", function() {
                if (swipe) {
                    return;
                }
                if ($(this).text() == "" || $(this).text() == "-") {
                    return;
                }
                var month = $(this).attr("name").replace('oi-', '');
                var myoiid = $(this).closest("tr").find("td:eq(1) div").data("ky");
                var year = $("input[name=myYear]").val();
                var myoiname = $(this).closest("tr").find("td:eq(1)").text().trim();
                var myoitype = $(this).closest("tr").find("td:eq(0)").find("div").html().replace(/pull-right/g, "");
                data = jQuery.param({
                    'f': 'getoi',
                    'myoiid': myoiid,
                    'month': month,
                    'year': year
                })
                cControl = $(this);
                var myDiv = $(this);
                var title_month = "<span class='gray-text'>" + monNum2Text(month) + "</span>";
                $("#exp-div-section").closest(".form-group").addClass("hidden");
                $("#selectcat").removeAttr('required');
                $("#selectctype").removeAttr('required');
                $("h4#myModalLabel").html("تعديل إيراد" + " - " + title_month);
                $(".add-modal-subtitle").addClass("gray-text");
                $(".add-modal-subtitle").html(myoitype + " - " + myoiname);
                $(".operation").addClass("fa-pencil success-text");
                $("#confirmNewExp").html("تأكيد تعديل إيراد");
                $(".modal-header").addClass("bg-dark-green");
                $("#DeleteEntry").addClass("oi-modal");
                $("#DeleteEntry").removeClass("hidden");

                $.ajax({
                        url: '/admin-dashboard',
                        type: 'POST',
                        data: {
                            'myData': data,
                        },
                        datatype: 'json',
                    })
                    .done(function(data) {
                        if (data['status'] == "success") {
                            $("input[name=f]").val("editoi");

                            $("input[name=expcd]").val(data['expcd']);
                            $("input[name=k]").val(data['k']);
                            $("input[name=eamount]").val(data['amt']);

                            var tempDate = $.datepicker.parseDate('d/m/yy', data['date']);
                            var startDate = "1/" + (tempDate.getMonth() + 1) + "/" + tempDate.getFullYear();
                            $('#edate').datepicker("setStartDate", startDate);
                            var last_day_of_month = new Date(tempDate.getFullYear(), (tempDate.getMonth() + 1), 0).getDate();
                            $('#edate').datepicker("setEndDate", last_day_of_month + "/" + (tempDate.getMonth() + 1) + "/" + tempDate.getFullYear());
                            $("#edate").val(data['date']);
                            $('#edate').datepicker("setDate", data['date']);
                            $("#enotes").val(data['notes']);
                            $(".edit-modal-footer").removeClass("hidden");
                            $(".last-change-date").text(data['log_date']);
                            if (data['log_email']) {
                                $(".last-change-user").removeClass("hidden");
                                $(".last-change-user").html(data['log_name'] + " " + data['log_email']);
                            }
                            $(".edit-modal-footer").tooltip().attr('data-original-title', $(".edit-modal-footer").text().trim());
                            $('#newExpCat').modal('show');
                        } else {
                            console.log("request failed! error code: GC-DB0x907")
                            swal({
                                title: 'خطأ!',
                                text: 'حدث خطأ ما: ' + data['message'] + " GC-DB0x907",
                                type: 'error',
                            })
                        }
                    })
                    .fail(function(data) {
                        console.log("request failed! error code: GC-DB0x916")
                    })

            })
            // DELETE OI
        $(document).on('click', ".oi-modal", function(event) {
            event.preventDefault();

            swal({
                    title: 'هل أنت متأكد من حذف هذا الإيراد؟',
                    text: "لن يمكنك الرجوع في ذلك، و لكن يمكنك إضافته مرة أخرى!",
                    type: 'warning',
                    showCancelButton: true,
                    animation: false,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#aaa',
                    confirmButtonText: 'نعم، إحذف الإيراد!',
                    cancelButtonText: 'إلغاء'
                })
                .then(
                    function(result) {
                        if (result.value) {
                            $("input[name=f]").val("deloi");
                            $("#formnewexpense").submit();
                        } else if (result.dismiss == swal.DismissReason.cancel) {
                            event.preventDefault();
                        }
                    }
                )
        })

        // ------
        $("button[name=btn-show-hide-exp]").click(function() {
            var year = $("input[name=myYear]").val();
            data = jQuery.param({
                'ctdata': 'show',
                'year': year
            })
            $.ajax({
                    url: '/ShowHideStatus',
                    type: 'POST',
                    data: {
                        'myData': data,
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        var chk = data["data"]
                        for (var i = 0; i < data["data"].length; i++) {
                            $("input:checkbox[value=" + chk[i] + "]").attr("checked", true);
                        }
                    } else {
                        console.log("request failed! error code: SHB-SHx240");
                    }
                })
                .fail(function(data) {
                    console.log("request failed! error code: SHB-SHx288")
                })
        })
        $(document).on("click", ".showhideoption", function(e) {
            var year = $("input[name=myYear]").val();
            var exp = $(this).closest('label').text().trim();
            var x = $(this).prop("checked");
            var exp_name = $(this).closest('label').text();
            var me = $(this).val();
            var myControl = $(this)
            var parent_cat = $(".known-exp-cat.active").text().trim();
            data = jQuery.param({
                    'ctdata': 'score',
                    'status': x,
                    'myexp': me,
                    'year': year
                })
                // e.preventDefault();

            $.ajax({
                    url: '/ShowHideStatus',
                    type: 'POST',
                    data: {
                        'myData': data,
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        var c = $(this)
                            // myControl.prop("checked", x);
                        swal({
                            toast: true,
                            position: 'top-start',
                            showConfirmButton: false,
                            type: 'success',
                            html: 'تم ' + (x ? 'إضافة' : 'إزالة') + ' بند "' + parent_cat + ' - ' + exp_name + '"',
                            timer: 3000,
                        })
                    } else if (data['status'] == "failed") {
                        myControl.prop("checked", "checked");
                        swal(
                            'لا يمكن إزالة هذا البند!',
                            'لازال لديك مصاريف تحت هذا البند',
                            'error'
                        )
                    }
                })
                .fail(function(data) {
                    console.log("request failed! error code: SHB-SHx485");
                })
        })
        $(document).on("click", "[name=show-cat]", function(event) {
            event.preventDefault()
            $("[name='show-cat-type']").addClass("hidden");
            $("div[data-parent-cat='" + $(this).children("div").data("mycat") + "']").fadeIn(250).removeClass("hidden");

            $("[name='show-cat']").removeClass('active');
            $(this).addClass('active');
        })
        $(document).on("click", "[name=save-custom-cat]", function() {
            var cust = $("input[name=custom-cat-name]").val().trim();
            var myControl = $(this);
            if (cust == "") return;
            cust = cust.toLowerCase();
            $(this).html('<span class="fa fa-spinner fa-spin"></span> جاري الحفظ').attr('disabled', 'disabled');

            data = jQuery.param({
                'f': 'addcustomcat'
            })
            $.ajax({
                    url: '/admin-dashboard',
                    type: 'POST',
                    data: {
                        'myData': data,
                        'cat-name': cust
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        var data = data['ky'];
                        var new_custom = '<div name="show-cat-type" data-parent-cat="اخرى" class="checkbox btn-lg show-cat-type">' +
                            '<label class=""> <input type="checkbox" class="showhideoption" value=' + data + ' checked="checked">' + cust + '</label>' +
                            '<a class="fa fa-height-adjust fa-trash-o xpull-left" name="btn-del-custom-cat"></a> </div>';

                        $(new_custom).insertBefore("#custom-cat-section");
                        $("input[name=custom-cat-name]").val("");
                        swal({
                            toast: true,
                            position: 'top-start',
                            showConfirmButton: false,
                            type: 'success',
                            html: 'تم إضافة بند "' + cust + '" بنجاح',
                            timer: 3000,
                        })
                    } else {
                        swal(
                            'خطأ!',
                            data['message'],
                            'error'
                        )
                    }
                    myControl.html("حفظ").removeAttr('disabled');
                })
                .fail(function(data) {
                    myControl.html("حفظ").removeAttr('disabled');
                })
        })
        $(document).on("keypress", "input[name=custom-cat-name]", function(event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                $('button[name="save-custom-cat"]').trigger("click");
            }
        });
        $(document).on("click", "a[name=btn-del-custom-cat]", function(event) {
            var cat = $(this).closest('div').children('label').children('input').val();
            var myControl = $(this).closest('div');
            var year = $("input[name=myYear]").val();
            var exp_name = $(this).closest('div').children('label').text();
            var parent_cat = $(".known-exp-cat.active").text().trim();
            event.preventDefault();
            $(this).removeClass('fa-trash-o').addClass('fa-spinner fa-spin');
            data = jQuery.param({
                'ctdata': 'del',
                'mycat': cat,
                'year': year
            })
            $.ajax({
                    url: '/ShowHideStatus',
                    type: 'POST',
                    data: {
                        'myData': data,
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        myControl.remove();
                        swal({
                            toast: true,
                            position: 'top-start',
                            showConfirmButton: false,
                            type: 'success',
                            html: 'تم حذف بند "' + parent_cat + ' - ' + exp_name + '"',
                            timer: 3000,
                        })
                        console.log("deleted & removed!");
                    } else if (data['status'] == "failed") {
                        myControl.find('a[name="btn-del-custom-cat"]').removeClass('fa-spinner fa-spin').addClass('fa-trash-o');
                        swal({
                            title: 'لا يمكن إزالة هذا البند!',
                            text: 'لازال لديك مصاريف تحت هذا البند',
                            type: 'error',
                            confirmButtonText: 'أغلق',
                        })
                    }
                })
                .fail(function(data) {
                    console.log("request failed! error code: SHB-SHx303");
                    $(this).removeClass('fa-spinner fa-spin').addClass('fa-trash-o');
                })
        })
        $("#confirmShowHide").click(function() {
                location.reload();
            })
            // ------
        $(document).on("click", "[name='btn-oi-cat']", function(event) {
            event.preventDefault()
            $("[name='show-custom-OIs']").addClass("hidden");
            $("div[data-parent-cat='" + $(this).children("div").data("mycat") + "']").fadeIn(250).removeClass("hidden");
            $(".new-custom-oi").addClass("hidden");
            $(".new-custom-oi").fadeIn(250).removeClass("hidden");

            $("[name='OIcatSelection']").val($(this).text().trim());
            $("[name='btn-oi-cat']").removeClass('active');
            $(this).addClass('active');
        })
        $(document).on("click", "[name=save-custom-oi]", function() {
            var cust_cat = $("input[name='OIcatSelection']").val();
            var cust_name = $("input[name='OInameInput']").val().trim();
            var cust_notes = $("textarea[name='OInotes']").val().trim();
            var myControl = $(this);
            // console.log("text = ",myControl.text());
            if (cust_cat == "" || cust_name == "") return;
            $(this).html('<span class="fa fa-spinner fa-spin"></span> جاري الحفظ').attr('disabled', 'disabled');

            cust_name = cust_name.toLowerCase();
            data = jQuery.param({
                'f': 'addcustomOIcat'
            })
            $.ajax({
                    url: '/admin-dashboard',
                    type: 'POST',
                    data: {
                        'myData': data,
                        'OIcatSelection': cust_cat,
                        'OInameInput': cust_name,
                        'OInotes': cust_notes
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        var new_custom_oi = '<div name="show-custom-OIs" data-parent-cat="' + data['par'] + '" class="btn-lg checkbox show-custom-OIs">' +
                            '<label class=""> <input type="checkbox" class="OIcheckbox btn-lg" value=' + data['ky'] + ' checked="checked">' + data['name'] + '</label>' +
                            '<a class="fa fa-height-adjust fa-trash-o cursor-pointer" name="btn-del-custom-oi"></a></div>';

                        $(new_custom_oi).insertBefore(".new-custom-oi");
                        $("input[name='OInameInput']").val("");
                        // console.log($("textarea[name='OInotes']").val());
                        $("textarea[name='OInotes']").val("");
                        swal({
                            toast: true,
                            position: 'top-start',
                            showConfirmButton: false,
                            type: 'success',
                            html: 'تم إضافة بند "' + cust_name + '" بنجاح',
                            timer: 3000,
                        })
                    } else {
                        swal({
                            title: 'خطأ!',
                            text: data['message'],
                            type: 'error',
                            confirmButtonText: 'أغلق',
                        })
                    }
                    myControl.html("حفظ المصدر الجديد").removeAttr('disabled');
                })
                .fail(function(data) {
                    myControl.html("حفظ المصدر الجديد").removeAttr('disabled');
                })
        })
        $(document).on("keypress", "input[name=OInameInput]", function(event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                $('textarea[name=OInotes]').trigger('focus');
            }
        });
        $("#closeNewOI").click(function() {
            location.reload();
        })
        $(document).on("click", ".OIcheckbox", function(e) {
            // e.preventDefault();
            var year = $("input[name=myYear]").val();
            var x = $(this).prop("checked");
            var me = $(this).val();
            var cat_name = $(this).closest('label').text();
            var myControl = $(this)
            data = jQuery.param({
                'f': 'checkOIcat',
                'status': x,
                'me': me,
                'myYear': year
            })

            $.ajax({
                    url: '/admin-dashboard',
                    type: 'POST',
                    data: {
                        'myData': data,
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        // myControl.prop("checked", x);
                        swal({
                            toast: true,
                            position: 'top-start',
                            showConfirmButton: false,
                            type: 'success',
                            html: 'تم ' + (x ? 'إضافة' : 'إزالة') + ' بند "' + cat_name + '"',
                            timer: 3000,
                        })
                    } else if (data['status'] == "failed") {
                        swal({
                            // title: 'لا يمكن إزالة هذا البند!',
                            // text: 'لازال لديك إيرادات تحت هذا البند',
                            html: data['message'],
                            type: 'error',
                            confirmButtonText: 'أغلق',
                        })
                    }
                })
                .fail(function(data) {
                    console.log("request failed! error code: SHB-SHx485");
                })
        })
        $(document).on("click", "a[name='btn-del-custom-oi']", function(event) {
                var me = $(this).closest('div').children('label').children('input').val();
                var cat_name = $(this).closest('div').children('label').text();
                var myControl = $(this).closest('div');
                var year = $("input[name=myYear]").val();
                event.preventDefault();
                $(this).removeClass('fa-trash-o').addClass('fa-spinner fa-spin');
                data = jQuery.param({
                    'f': 'delOIcat',
                    'me': me,
                    'myYear': year
                })
                $.ajax({
                        url: '/admin-dashboard',
                        type: 'POST',
                        data: {
                            'myData': data,
                        },
                        datatype: 'json',
                    })
                    .done(function(data) {
                        if (data['status'] == "success") {
                            myControl.remove();
                            swal({
                                toast: true,
                                position: 'top-start',
                                showConfirmButton: false,
                                type: 'success',
                                html: 'تم حذف بند ' + cat_name,
                                timer: 3000,
                            })
                        } else if (data['status'] == "failed") {
                            myControl.find('a[name="btn-del-custom-oi"]').removeClass('fa-spinner fa-spin').addClass('fa-trash-o');
                            swal({
                                title: 'لا يمكن إزالة هذا البند!',
                                text: 'لازال لديك إيرادات تحت هذا البند',
                                type: 'error',
                                confirmButtonText: 'أغلق',
                            })
                        }
                    })
                    .fail(function(data) {
                        console.log("request failed! error code: SHB-SHx883");
                        $(this).removeClass('fa-spinner fa-spin').addClass('fa-trash-o');
                    })
            })
            // ------
            // modal more info button
        $(document).on("click", ".more_details", function() {
                $("#moreinfo-arrow").toggleClass("fa-chevron-down");
                $("#moreinfo-arrow").toggleClass("fa-chevron-up");
            })
            // ------
            // Selections collections
        var max_select = 250;
        // $(document).on("click", "#select-all-tenants", function () {
        function selAllUnits() {
            var count = $("input.selected-units").length;
            if (count > max_select && $(this).prop("checked") == true) {
                $(".selected-units").slice(0, max_select).prop('checked', true);
                swal({
                    title: 'تم بلوغ الحد الأقصي للإختيار!',
                    text: 'تم اختيار ٢٥٠ وحدة فقط (الحد الأقصي للعمليات المجمعة)!',
                    type: 'warning',
                    confirmButtonText: 'أغلق',
                    // timer: 2000,
                }).then(
                    function(result) {
                        if (result.dismiss == swal.DismissReason.cancel) {
                            event.preventDefault();
                        }
                    })
            } else {
                $("input[name^='sel-unit-']").each(function() {
                    $(this).prop("checked", true);
                });
            }
            // $(".selected-units").trigger("change");
        };

        function selNoUnits() {
            $("input[name^='sel-unit-']").each(function() {
                $(this).prop("checked", false);
            });
        }

        function showBulkOps() {
            var count = $("input.selected-units:checked").length;
            $(".countSelected").text(count);
            // var count = $("input.selected-units:not(:checked)").length;
            if (count >= 2) {
                $(".bulk-add-col").removeClass("non-visible");
                $(".countSelected").removeClass("non-visible");
            } else {
                $(".bulk-add-col").addClass("non-visible");
                $(".countSelected").addClass("non-visible");
            }
            $(".countSelected").effect("highlight", {
                'color': 'orange'
            }, 650);
        }
        $(document).on("change", "#sel-units", function() {
                selNoUnits(); //remove all current selections
                var choice = $(this).val();
                if (choice == "all") {
                    selAllUnits();
                } else if (choice == "available") {
                    $(".occupied-unit").each(function() {
                        $(this).prop("checked", true);
                    });
                } else if (choice == "closed") {
                    $(".closed-unit").each(function() {
                        $(this).prop("checked", true);
                        // $("#sel-units").val("choose");
                    });
                } else if (choice == "renovating") {
                    $(".renovating-unit").each(function() {
                        $(this).prop("checked", true);
                    });
                }
                showBulkOps();
                if (choice != "none") {
                    $("#sel-units").val(choice);
                } else {
                    $("#sel-units").val("choose");
                }
            })
            // Shift select
        var last_checked_unit = null;
        $(document).on("click", ".lbl-unit-num", function(e) {
            var count = $("input.selected-units:checked").length;
            if (e.shiftKey && last_checked_unit) {
                var sel = window.getSelection ? window.getSelection() : document.selection;
                if (sel) {
                    if (sel.removeAllRanges) {
                        sel.removeAllRanges();
                    } else if (sel.empty) {
                        sel.empty();
                    }
                }
                var start = $(".selected-units").index(last_checked_unit);
                var end = $(".selected-units").index($(this).find(".selected-units"));
                var new_sel_count = Math.max(start, end) - Math.min(start, end);
                if ((count + new_sel_count) > max_select) {
                    swal({
                        title: 'سيتم تعدي الحد الأقصي للإختيار!',
                        text: 'الحد الأقصي للإختيار هو ' + max_select + ' وحدة، عدد ما تحاول إختياره ' + (count + new_sel_count) +
                            ' وحدة (المختار حاليا ' + count + ' وحدة + الذي تحاول إضافته ' + new_sel_count + 'وحدة)',
                        type: 'error',
                        confirmButtonText: 'أغلق',
                    });
                    return;
                }
                var max = Math.max(start, end) + 1;
                $(".selected-units").slice(Math.min(start, end), max).prop('checked', last_checked_unit.prop("checked"));
                // console.log("hi",start, end);
                last_checked_unit = null;
                // $(".selected-units").trigger("change"); //Is this required
            } else {
                last_checked_unit = $(this).find(".selected-units");
                console.log("last_checked_unit = ", last_checked_unit.index(last_checked_unit))
            }
        })
        $(document).on("change", ".selected-units", function() {
                var count = $("input.selected-units:not(:checked)").length;
                if (count == 0) {
                    $("#sel-units").val("all");
                } else {
                    $("#sel-units").val("choose");
                }

                count = $("input.selected-units:checked").length;
                $(".countSelected").text(count);
                showBulkOps();

                if (count > max_select) {
                    swal({
                        title: 'تم بلوغ الحد الأقصي للإختيار!',
                        text: 'تم اختيار ٢٥٠ وحدة فقط (الحد الأقصي للعمليات المجمعة)!',
                        type: 'warning',
                        confirmButtonText: 'أغلق',
                    })
                    $(this).prop("checked", false);
                    count = $("input.selected-units:checked").length;
                    // $(".countSelected").text(count);
                }
                // if(count==max_select){
                //   $("#select-all-tenants").prop("checked", true);
                // }
            })
            // ------
        $(document).on("click", ".td-title-hl-green", function() {
                var c = $(this).data('ky');
                var year = $("input[name=myYear]").val();
                window.location.href = '/unit-report?u=' + c + '&year=' + year
            })
            // ------

        function col_cell_color(cell) {
            var due_amount = cell.find('div[name^="dues"]').text();
            if (due_amount) {
                var col_amount = cell.find('div[name^="col"]').text();
                col_amount = parseFloat(col_amount);
                due_amount = parseFloat(due_amount);
                cell.removeClass('red-text green-text');
                if (col_amount > due_amount) {
                    cell.addClass('green-text');
                } else if (col_amount < due_amount) {
                    cell.addClass('red-text');
                }
            } else {
                cell.addClass('green-text');
            }
        }
        $(document).on("submit", "#formnewexpense", function(event) {
            $("#confirmNewExp").prop("disabled", true);
            $("#DeleteEntry").prop("disabled", true);
            $("#formnewexpense input, #formnewexpense textarea, #formnewexpense select").prop("readonly", true);
            $("#loading").html('<i class="fa fa-spinner fa-lg fa-spin text-center" aria-hidden="true"></i>');

            event.preventDefault();
            var myData = $(this).serialize();

            $.ajax({
                    url: '/admin-dashboard',
                    type: 'POST',
                    data: {
                        'myData': myData,
                        'enotes': $("#enotes").val()
                    },
                    datatype: 'json',
                })
                .done(function(data) {
                    if (data['status'] == "success") {
                        // console.log($("input[name=f]").val());
                        if ($("input[name=f]").val() == "addexp") {
                            if (data['redirect']) {
                                window.location.href = data['redirect'];
                                return;
                            }
                            cControl.removeClass('exp-td-add');
                            cControl.find('div').html((data['amt'] * -1).toLocaleString("en-US"));
                            cControl.find('div').tooltip().attr('data-original-title', data['enotes']);

                            updateExpensesTable(cControl);
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "editexp") {
                            if (data['redirect']) {
                                window.location.href = data['redirect'];
                                return;
                            }
                            cControl.html((data['amt'] * -1).toLocaleString("en-US"));
                            cControl.tooltip().attr('data-original-title', data['enotes']);

                            updateExpensesTable(cControl.closest('td'));
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "delexp") {
                            cControl.closest('td').addClass('exp-td-add');
                            // Set cell to "-" if was deleted from current or previous month
                            // else set cell to ""
                            var tempMyMon = cControl.attr("name").split('-').slice(-1);
                            var tempCurMonth = new Date();
                            var tempCurYear = tempCurMonth.getFullYear();
                            var tempMyYear = $("input[name=myYear]").val();
                            tempCurMonth = tempCurMonth.getMonth() + 1
                                // YEAR
                            if (tempMyYear < tempCurYear) {
                                cControl.html("-");
                            } else {
                                cControl.html(tempMyMon <= tempCurMonth ? "-" : "");
                            }
                            //
                            cControl.tooltip().attr('data-original-title', '');

                            updateExpensesTable(cControl.closest('td'));
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "addcol") {
                            cControl.removeClass('col-td-add');
                            cControl.find('div[name^="col"]').html(data['amt'].toLocaleString("en-US"));
                            cControl.find('div[name^="due-prop"]').html(data['amt']);
                            // cControl.find('div[name^="col"]').tooltip().attr('data-original-title', data['notes']);

                            if (cControl.find("div[name^='due-prop']").length > 0) {
                                var mon = cControl.find("div[name^='due-prop']").attr('name').replace('due-prop-', '');
                                cControl.find("div[name^='due-prop']").attr('name', 'col-' + mon);
                            }

                            updateCollectionsTable(cControl);
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "addbulkcol") {
                            $("#loading").html('<i class="fa fa-spinner fa-lg fa-spin text-center font10px" aria-hidden="true"></i>تم الحفظ..');
                            console.log("data saved to DB...");
                            var mon = $("#edate").val();
                            mon = mon.split('/');
                            mon = parseInt(mon[1]);
                            var offset = 1;
                            var index = parseInt(mon + offset);
                            var put_amt = data['amt'].toLocaleString("en-US");
                            if (put_amt == 0) {
                                put_amt = '';
                            }
                            // var newNotes = " المطلوب = "+ data['amt']; //What is this?

                            var temp_dv;
                            $("input.selected-units:checked").closest('tr').find("td:eq(" + index + ") div:first").each(function() {
                                temp_dv = $(this);
                                temp_dv.html(put_amt);
                                temp_dv.attr('name', 'col-' + mon);
                                temp_dv.closest('td').removeClass('col-td-add');
                                // $(this).tooltip().attr('data-original-title', newNotes);
                                col_cell_color(temp_dv.closest('td'));
                                highlight_cell(temp_dv);
                                calcYearCol(temp_dv.closest('tr'));
                                calcCredits(temp_dv.closest('tr'));
                            })
                            updateCollectionsTable(temp_dv.closest('td'));
                            // // update month
                            // calcMonthCol(mon);
                            // // update building year's collection sum
                            // calcColTotal()

                            // $("input.selected-units:checked").each(function(){
                            //   var myDiv = $(this).closest('tr').find("td:eq("+index+") div:first");                            
                            //   // var myDiv = $(this).closest('tr').find("td:eq("+index+")").find("div:first");              
                            //   myDiv.html(put_amt);
                            //   myDiv.attr('name', 'col-'+mon);
                            //   myDiv.closest('td').removeClass('red-text green-text col-td-add')
                            //   // var newNotes = data['notes'] + "<br>---<br>" + "الإيراد ="+ data['amt'] + "<br>"+ "  المطلوب ="+ "<number>" +"<br>---<br>" +"مديونية = " + "<new number>"              
                            //   myDiv.tooltip().attr('data-original-title', newNotes);
                            //   updateCollectionsTable(myDiv.closest('td'));
                            //   highlight_cell(myDiv);
                            // })
                        } else if ($("input[name=f]").val() == "editcol") {
                            cControl.html(data['amt'].toLocaleString("en-US"));
                            // cControl.tooltip().attr('data-original-title', data['notes']);

                            updateCollectionsTable(cControl.closest('td'));
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "delcol") {
                            cControl.closest('td').removeClass('red-text green-text').addClass('col-td-add');
                            // Set cell to "-" if was deleted from current or previous month
                            // else set cell to ""
                            var tempMyMon = cControl.attr("name").split('-').slice(-1);
                            var tempCurMonth = new Date();
                            var tempCurYear = tempCurMonth.getFullYear();
                            var tempMyYear = $("input[name=myYear]").val();
                            tempCurMonth = tempCurMonth.getMonth() + 1
                                // YEAR
                            if (tempMyYear < tempCurYear) {
                                cControl.html("-");
                            } else {
                                cControl.html(tempMyMon <= tempCurMonth ? "-" : "");
                            }
                            //
                            cControl.tooltip().attr('data-original-title', '');

                            var mon = cControl.attr('name').replace('col-', '');
                            // console.log("Checking...", cControl.siblings("div[name^='dues']").text());
                            if ((cControl.siblings("div[name^='dues']").length > 0)) {
                                if (cControl.siblings("div[name^='dues']").text() != "0.0") {
                                    cControl.closest('td').addClass('red-text');
                                    cControl.addClass('red-text');
                                    cControl.attr('name', 'due-prop-' + mon).html('م');
                                }
                            }

                            updateCollectionsTable(cControl.closest('td'));
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "bulkdelcol") {
                            var mon = $("#edate").val();
                            mon = mon.split('/');
                            mon = parseInt(mon[1]);
                            var offset = 1;
                            var index = parseInt(mon + offset);
                            var myDiv;
                            $("input.selected-units:checked").each(function() {
                                myDiv = $(this).closest('tr').find("td:eq(" + index + ")").find("div:first");
                                myDiv.closest('td').removeClass('red-text green-text').addClass('col-td-add');
                                myDiv.html('');

                                var mon = myDiv.attr('name').replace('col-', '');
                                if ((myDiv.siblings("div[name^='dues']").length > 0)) {
                                    if (myDiv.siblings("div[name^='dues']").text() != "0.0") {
                                        myDiv.closest('td').addClass('red-text');
                                        myDiv.attr('name', 'due-prop-' + mon).html('م');
                                        myDiv.tooltip().attr('data-original-title', '  المطلوب = ' + myDiv.attr('data-debt'));
                                    }
                                }
                                highlight_cell(myDiv);
                                calcYearCol(myDiv.closest('tr'));
                                calcCredits(myDiv.closest('tr'));
                            })
                            updateCollectionsTable(myDiv.closest('td'));
                        } else if ($("input[name=f]").val() == "addoi") {
                            cControl.removeClass('oi-td-add');
                            cControl.find('div[name^="oi"]').html(data['amt'].toLocaleString("en-US"));

                            updateCollectionsTable(cControl);
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "deloi") {
                            cControl.closest('td').addClass('oi-td-add');
                            // Set cell to "-" if was deleted from current or previous month
                            // else set cell to ""
                            var tempMyMon = cControl.attr("name").split('-').slice(-1);
                            var tempCurMonth = new Date();
                            var tempCurYear = tempCurMonth.getFullYear();
                            var tempMyYear = $("input[name=myYear]").val();
                            tempCurMonth = tempCurMonth.getMonth() + 1
                                // YEAR
                            if (tempMyYear < tempCurYear) {
                                cControl.html("-");
                            } else {
                                cControl.html(tempMyMon <= tempCurMonth ? "-" : "");
                            }
                            //
                            var mon = cControl.attr('name').replace('oi-', '');
                            updateCollectionsTable(cControl.closest('td'));
                            highlight_cell(cControl);
                        } else if ($("input[name=f]").val() == "editoi") {
                            cControl.html(data['amt'].toLocaleString("en-US"));
                            updateCollectionsTable(cControl.closest('td'));
                            highlight_cell(cControl);
                        }

                        calcTotals();
                        updateQuickDash();
                        cControl = null;
                        $("#newExpCat").modal('hide');
                    } else {
                        swal({
                                title: 'عملية غير ناجحة!',
                                text: 'حدث خطأ ما: ' + (data["message"] ? data['message'] : "0xADH375"),
                                type: 'error',
                                confirmButtonText: 'أغلق',
                            })
                            .then(function(result) {
                                window.location.reload();
                            })
                    }
                })
                .fail(function(data, request, status, error) {
                    console.log("Request Failed", data['message'], "request", request, "status", status, "error", error, "data", data);
                    swal({
                        title: 'خطأ!',
                        text: 'حدث خطأ ما: ' + data['message'] + request + "  " + status + "  " + error + "  ",
                        type: 'error',
                    });
                })
        })

        function highlight_cell(elem) {
            var hl_color;
            if ($("input[name=f]").val().includes('exp')) {
                hl_color = '#d9534f';
            } else if ($("input[name=f]").val().includes('col')) {
                hl_color = '#5cb85c';
            } else if ($("input[name=f]").val().includes('oi')) {
                hl_color = '#5cb85c';
            }
            elem.closest('td').effect("highlight", {
                'color': hl_color
            }, 3000);
        }
        $(document).ajaxStop(function() {
            //Enable controls
            $("#confirmNewExp").prop("disabled", false);
            $("#DeleteEntry").prop("disabled", false);
            $("#formnewexpense input, #formnewexpense textarea, #formnewexpense select").prop("readonly", false);
            $("#loading").html('');
            $('#btn-close-modal').prop("disabled", false);
        });

        $(document).on('click', '.panelDues', function() {
            swal({
                type: 'info',
                title: 'المديونيات',
                html: 'و هو مجموع المديونيات المُطبق على الوحدات إما من "<strong>الإشتراك الشهري</strong>" على كل وحدة (يحدد الإشتراك الشهري من صفحة <a href="/settings" class="greenlink">إعدادات الوحدات</a>) أو عند إضافة مصروف جديد "بميزانية مستقلة" في جدول المصروفات',
                confirmButtonText: 'شكراً',
            })
        })
    </script>






    <iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="./إيرادات ومصروفات_files/box-dfc01efbdc94bb0936d9a35a502b0b64.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe></body>

</html>